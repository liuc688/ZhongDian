(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-690272c2"],{"007d":function(t,e,a){},"00d8":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&a.rotl(t,8)|4278255360&a.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=a.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],a=0,n=0;a<t.length;a++,n+=8)e[n>>>5]|=t[a]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],a=0;a<32*t.length;a+=8)e.push(t[a>>>5]>>>24-a%32&255);return e},bytesToHex:function(t){for(var e=[],a=0;a<t.length;a++)e.push((t[a]>>>4).toString(16)),e.push((15&t[a]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],a=0;a<t.length;a+=2)e.push(parseInt(t.substr(a,2),16));return e},bytesToBase64:function(t){for(var a=[],n=0;n<t.length;n+=3)for(var i=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?a.push(e.charAt(i>>>6*(3-o)&63)):a.push("=");return a.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var a=[],n=0,i=0;n<t.length;i=++n%4)0!=i&&a.push((e.indexOf(t.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(n))>>>6-2*i);return a}};t.exports=a})()},"044b":function(t,e){function a(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&a(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(a(t)||n(t)||!!t._isBuffer)}},"0804":function(t,e,a){"use strict";a("ee86")},"082f":function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return p}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/application/list",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/application/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/application/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/application/delete",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}},"09f9":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return u}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/message/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/message/paginate",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/message/get",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}},"0c3f":function(t,e,a){},"0e33":function(t,e,a){},1148:function(t,e,a){"use strict";var n=a("5926"),i=a("577e"),o=a("1d80"),r=RangeError;t.exports=function(t){var e=i(o(this)),a="",s=n(t);if(s<0||s==1/0)throw r("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(a+=e);return a}},"13e4":function(t,e,a){},1714:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{loading:t.loading,"body-style":{padding:"20px 24px 8px"},bordered:!1}},[e("div",{staticClass:"chart-card-header"},[e("div",{staticClass:"meta"},[e("span",{staticClass:"chart-card-title"},[t._v(t._s(t.title))]),e("span",{staticClass:"chart-card-action"},[t._t("action")],2)]),e("div",{staticClass:"total"},[e("span",[t._v(t._s(t.total))])])]),e("div",{staticClass:"chart-card-content"},[e("div",{staticClass:"content-fix"},[t._t("default")],2)]),e("div",{staticClass:"chart-card-footer"},[t._t("footer")],2)])},i=[],o={name:"ChartCard",props:["title","total","loading"]},r=o,s=(a("bca2"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"6c3151ae",null);e["a"]=c.exports},"1c3a":function(t,e,a){"use strict";a("c831")},"1d43":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mini-chart"},[e("div",{staticClass:"chart-content",style:{height:46}},[e("v-chart",{attrs:{"force-fit":!0,height:t.height,data:t.data,padding:[36,5,18,5]}},[e("v-tooltip"),e("v-smooth-area",{attrs:{position:"record*count"}})],1)],1)])},i=[],o={name:"MiniArea",data:function(){return{data:[],height:100}},props:{value:{Type:Array,default:function(){return[]}}},created:function(){var t=this;setTimeout((function(){t.$nextTick((function(){t.data=t.value}))}),500)}},r=o,s=(a("da2c"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"02148bf8",null);e["a"]=c.exports},"1fc2":function(t,e,a){},"22d3":function(t,e,a){"use strict";a("fc85d")},"2a83":function(t,e,a){"use strict";a("13e4")},"2c7b":function(t,e,a){},"2eb4":function(t,e,a){"use strict";a("fc8c")},"309a":function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return p})),a.d(e,"d",(function(){return f})),a.d(e,"f",(function(){return g}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/organization/tree",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/organization/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/organization/get",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/organization/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/organization/list",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(t){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/site/document/count",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}},"31e60":function(t,e,a){"use strict";a("6a89")},3521:function(t,e,a){"use strict";a("4de4"),a("d3b7"),a("b64b");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"standard-table"},[e("div",{staticClass:"alert"},[t.selectedRows?e("a-alert",{attrs:{type:"info","show-icon":!0}},[e("div",{staticClass:"message",attrs:{slot:"message"},slot:"message"},[t._v(" 已选择 "),e("a",[t._v(t._s(t.selectedRows.length))]),t._v(" 项 "),t.selectedRows.length?e("a",{staticClass:"clear",on:{click:t.onClear}},[t._v("清空")]):t._e(),t._l(t.needTotalList,(function(a,n){return[a.needTotal?e("div",{key:n},[t._v(" "+t._s(a.title)+"总计  "),e("a",[t._v(t._s(a.customRender?a.customRender(a.total):a.total))])]):t._e()]}))],2)]):t._e()],1),e("a-table",{attrs:{bordered:t.bordered,loading:t.loading,columns:t.columns,dataSource:t.dataSource,rowKey:t.rowKey,pagination:t.pagination,expandedRowKeys:t.expandedRowKeys,expandedRowRender:t.expandedRowRender,rowSelection:t.selectedRows?{selectedRowKeys:t.selectedRowKeys,onChange:t.updateSelect}:void 0},on:{change:t.onChange},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots).filter((function(t){return"expandedRowRender"!==t})),(function(e){return{key:e,fn:function(a,n,i){return[t._t(e,null,null,{text:a,record:n,index:i})]}}})),{key:t.$scopedSlots.expandedRowRender?"expandedRowRender":"",fn:function(e,a,n,i){return[t._t(t.$scopedSlots.expandedRowRender?"expandedRowRender":"",null,null,{record:e,index:a,indent:n,expanded:i})]}}],null,!0)},[t._l(Object.keys(t.$slots),(function(a){return e("template",{slot:a},[t._t(a)],2)}))],2)],1)},i=[],o=a("c1f7"),r=o["a"],s=(a("31e60"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"15e28e24",null);e["a"]=c.exports},"3c47":function(t,e,a){},"3ed3":function(t,e,a){},"47ac":function(t,e,a){"use strict";a("fb3c")},"4d94":function(t,e,a){},"519d":function(t,e,a){},"527e":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart-trend"},[t._v(" "+t._s(t.term)+" "),e("span",[t._v(t._s(t.rate)+"%")]),e("span",{class:["chart-trend-icon",t.trend]},[e("a-icon",{attrs:{type:"caret-"+t.trend}})],1)])},i=[],o=(a("a9e3"),a("b680"),{name:"Trend",props:{term:{type:String,required:!0},target:{type:Number,required:!1,default:0},value:{type:Number,required:!1,default:0},isIncrease:{type:Boolean,required:!1,default:null},percent:{type:Number,required:!1,default:null},scale:{type:Number,required:!1,default:2}},data:function(){return{trend:this.isIncrease?"up":"down",rate:this.percent}},created:function(){this.trend=this.caulateTrend(),this.rate=this.caulateRate()},methods:{caulateRate:function(){return(null===this.percent?100*Math.abs(this.value-this.target)/this.target:this.percent).toFixed(this.scale)},caulateTrend:function(){var t=null===this.isIncrease?this.value>=this.target:this.isIncrease;return t?"up":"down"}}}),r=o,s=(a("f8ff"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"3c24c94f",null);e["a"]=c.exports},"583e":function(t,e,a){},"60bf":function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"d",(function(){return u})),a.d(e,"e",(function(){return p})),a.d(e,"j",(function(){return f})),a.d(e,"h",(function(){return g})),a.d(e,"i",(function(){return b})),a.d(e,"m",(function(){return _})),a.d(e,"k",(function(){return k})),a.d(e,"l",(function(){return x})),a.d(e,"b",(function(){return S})),a.d(e,"a",(function(){return R})),a.d(e,"c",(function(){return z}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/user/paginate",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/user/list",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/user/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/user/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/system/paginate",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(t){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/system/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function b(t){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/system/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}function _(t){return w.apply(this,arguments)}function w(){return w=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/workflow/paginate",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function k(t){return O.apply(this,arguments)}function O(){return O=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/workflow/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function x(t){return j.apply(this,arguments)}function j(){return j=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/workflow/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}function S(t){return C.apply(this,arguments)}function C(){return C=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/get",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}function R(t){return D.apply(this,arguments)}function D(){return D=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/delete",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),D.apply(this,arguments)}function z(t){return $.apply(this,arguments)}function $(){return $=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/forms/multiple",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}},"661a":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return r}));var n=a("7424"),i=a("b775");function o(){return Object(i["e"])("".concat(n["BASE_URL"],"/icon/list"),{},i["a"].POST)}function r(t){return Object(i["e"])("".concat(n["BASE_URL"],"/icon/delete"),t||{},i["a"].POST)}},6653:function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rank"},[e("h4",{staticClass:"title"},[t._v(t._s(t.title))]),e("ul",{staticClass:"list"},t._l(t.list,(function(a,n){return e("li",{key:n},[e("span",{class:n<3?"active":null},[t._v(t._s(n+1))]),e("span",[t._v(t._s(a.name))]),e("span",[t._v(t._s(a.total))])])})),0)])},i=[],o={name:"RankingList",props:["title","list"]},r=o,s=(a("7252"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"327c33df",null);e["a"]=c.exports},6821:function(t,e,a){(function(){var e=a("00d8"),n=a("9a634").utf8,i=a("044b"),o=a("9a634").bin,r=function(t,a){t.constructor==String?t=a&&"binary"===a.encoding?o.stringToBytes(t):n.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=e.bytesToWords(t),c=8*t.length,l=1732584193,u=-271733879,d=-1732584194,p=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var f=r._ff,m=r._gg,g=r._hh,v=r._ii;for(h=0;h<s.length;h+=16){var b=l,y=u,_=d,w=p;l=f(l,u,d,p,s[h+0],7,-680876936),p=f(p,l,u,d,s[h+1],12,-389564586),d=f(d,p,l,u,s[h+2],17,606105819),u=f(u,d,p,l,s[h+3],22,-1044525330),l=f(l,u,d,p,s[h+4],7,-176418897),p=f(p,l,u,d,s[h+5],12,1200080426),d=f(d,p,l,u,s[h+6],17,-1473231341),u=f(u,d,p,l,s[h+7],22,-45705983),l=f(l,u,d,p,s[h+8],7,1770035416),p=f(p,l,u,d,s[h+9],12,-1958414417),d=f(d,p,l,u,s[h+10],17,-42063),u=f(u,d,p,l,s[h+11],22,-1990404162),l=f(l,u,d,p,s[h+12],7,1804603682),p=f(p,l,u,d,s[h+13],12,-40341101),d=f(d,p,l,u,s[h+14],17,-1502002290),u=f(u,d,p,l,s[h+15],22,1236535329),l=m(l,u,d,p,s[h+1],5,-165796510),p=m(p,l,u,d,s[h+6],9,-1069501632),d=m(d,p,l,u,s[h+11],14,643717713),u=m(u,d,p,l,s[h+0],20,-373897302),l=m(l,u,d,p,s[h+5],5,-701558691),p=m(p,l,u,d,s[h+10],9,38016083),d=m(d,p,l,u,s[h+15],14,-660478335),u=m(u,d,p,l,s[h+4],20,-405537848),l=m(l,u,d,p,s[h+9],5,568446438),p=m(p,l,u,d,s[h+14],9,-1019803690),d=m(d,p,l,u,s[h+3],14,-187363961),u=m(u,d,p,l,s[h+8],20,1163531501),l=m(l,u,d,p,s[h+13],5,-1444681467),p=m(p,l,u,d,s[h+2],9,-51403784),d=m(d,p,l,u,s[h+7],14,1735328473),u=m(u,d,p,l,s[h+12],20,-1926607734),l=g(l,u,d,p,s[h+5],4,-378558),p=g(p,l,u,d,s[h+8],11,-2022574463),d=g(d,p,l,u,s[h+11],16,1839030562),u=g(u,d,p,l,s[h+14],23,-35309556),l=g(l,u,d,p,s[h+1],4,-1530992060),p=g(p,l,u,d,s[h+4],11,1272893353),d=g(d,p,l,u,s[h+7],16,-155497632),u=g(u,d,p,l,s[h+10],23,-1094730640),l=g(l,u,d,p,s[h+13],4,681279174),p=g(p,l,u,d,s[h+0],11,-358537222),d=g(d,p,l,u,s[h+3],16,-722521979),u=g(u,d,p,l,s[h+6],23,76029189),l=g(l,u,d,p,s[h+9],4,-640364487),p=g(p,l,u,d,s[h+12],11,-421815835),d=g(d,p,l,u,s[h+15],16,530742520),u=g(u,d,p,l,s[h+2],23,-995338651),l=v(l,u,d,p,s[h+0],6,-198630844),p=v(p,l,u,d,s[h+7],10,1126891415),d=v(d,p,l,u,s[h+14],15,-1416354905),u=v(u,d,p,l,s[h+5],21,-57434055),l=v(l,u,d,p,s[h+12],6,1700485571),p=v(p,l,u,d,s[h+3],10,-1894986606),d=v(d,p,l,u,s[h+10],15,-1051523),u=v(u,d,p,l,s[h+1],21,-2054922799),l=v(l,u,d,p,s[h+8],6,1873313359),p=v(p,l,u,d,s[h+15],10,-30611744),d=v(d,p,l,u,s[h+6],15,-1560198380),u=v(u,d,p,l,s[h+13],21,1309151649),l=v(l,u,d,p,s[h+4],6,-145523070),p=v(p,l,u,d,s[h+11],10,-1120210379),d=v(d,p,l,u,s[h+2],15,718787259),u=v(u,d,p,l,s[h+9],21,-343485551),l=l+b>>>0,u=u+y>>>0,d=d+_>>>0,p=p+w>>>0}return e.endian([l,u,d,p])};r._ff=function(t,e,a,n,i,o,r){var s=t+(e&a|~e&n)+(i>>>0)+r;return(s<<o|s>>>32-o)+e},r._gg=function(t,e,a,n,i,o,r){var s=t+(e&n|a&~n)+(i>>>0)+r;return(s<<o|s>>>32-o)+e},r._hh=function(t,e,a,n,i,o,r){var s=t+(e^a^n)+(i>>>0)+r;return(s<<o|s>>>32-o)+e},r._ii=function(t,e,a,n,i,o,r){var s=t+(a^(e|~n))+(i>>>0)+r;return(s<<o|s>>>32-o)+e},r._blocksize=16,r._digestsize=16,t.exports=function(t,a){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var n=e.wordsToBytes(r(t,a));return a&&a.asBytes?n:a&&a.asString?o.bytesToString(n):e.bytesToHex(n)}})()},"6a89":function(t,e,a){},"70e3":function(t,e,a){"use strict";a("a7dc")},7252:function(t,e,a){"use strict";a("0e33")},7435:function(t,e,a){"use strict";a("801a")},"7d92":function(t,e,a){},"801a":function(t,e,a){},"8bf5":function(t,e,a){"use strict";a("c7e8")},"8ceb":function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"e",(function(){return p})),a.d(e,"d",(function(){return f}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/dict/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/dict/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/dict/delete",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/dict/tree",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/dict/list",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}},"942d":function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mini-chart"},[e("div",{staticClass:"chart-content",style:{height:46}},[e("v-chart",{attrs:{"force-fit":!0,height:t.height,data:t.value,padding:[36,5,18,5]}},[e("v-tooltip"),e("v-bar",{attrs:{position:"record*count"}})],1)],1)])},i=[],o={name:"MiniBar",data:function(){return{height:100}},props:{value:{Type:Array,default:function(){return[]}}}},r=o,s=(a("f507"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"0728170b",null);e["a"]=c.exports},9847:function(t,e,a){"use strict";a("519d")},"9a3eb":function(t,e,a){},"9a634":function(t,e){var a={utf8:{stringToBytes:function(t){return a.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(a.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],a=0;a<t.length;a++)e.push(255&t.charCodeAt(a));return e},bytesToString:function(t){for(var e=[],a=0;a<t.length;a++)e.push(String.fromCharCode(t[a]));return e.join("")}}};t.exports=a},"9b43":function(t,e,a){"use strict";a("2c7b")},"9b5b":function(t,e,a){"use strict";a("fa2b")},a4ca:function(t,e,a){"use strict";a("9a3eb")},a7dc:function(t,e,a){},a7ee:function(t,e,a){"use strict";a("7d92")},ab9d:function(t,e,a){"use strict";a("c393")},aef4:function(t,e,a){"use strict";a("b34e")},b08b:function(t,e,a){"use strict";a("edea")},b212:function(t,e,a){"use strict";a("0c3f")},b34e:function(t,e,a){},b680:function(t,e,a){"use strict";var n=a("23e7"),i=a("e330"),o=a("5926"),r=a("408a"),s=a("1148"),c=a("d039"),l=RangeError,u=String,d=Math.floor,p=i(s),h=i("".slice),f=i(1..toFixed),m=function(t,e,a){return 0===e?a:e%2===1?m(t,e-1,a*t):m(t*t,e/2,a)},g=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},v=function(t,e,a){var n=-1,i=a;while(++n<6)i+=e*t[n],t[n]=i%1e7,i=d(i/1e7)},b=function(t,e){var a=6,n=0;while(--a>=0)n+=t[a],t[a]=d(n/e),n=n%e*1e7},y=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var n=u(t[e]);a=""===a?n:a+p("0",7-n.length)+n}return a},_=c((function(){return"0.000"!==f(8e-5,3)||"1"!==f(.9,0)||"1.25"!==f(1.255,2)||"1000000000000000128"!==f(0xde0b6b3a7640080,0)}))||!c((function(){f({})}));n({target:"Number",proto:!0,forced:_},{toFixed:function(t){var e,a,n,i,s=r(this),c=o(t),d=[0,0,0,0,0,0],f="",_="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return u(s);if(s<0&&(f="-",s=-s),s>1e-21)if(e=g(s*m(2,69,1))-69,a=e<0?s*m(2,-e,1):s/m(2,e,1),a*=4503599627370496,e=52-e,e>0){v(d,0,a),n=c;while(n>=7)v(d,1e7,0),n-=7;v(d,m(10,n,1),0),n=e-1;while(n>=23)b(d,1<<23),n-=23;b(d,1<<n),v(d,1,1),b(d,2),_=y(d)}else v(d,0,a),v(d,1<<-e,0),_=y(d)+p("0",c);return c>0?(i=_.length,_=f+(i<=c?"0."+p("0",c-i)+_:h(_,0,i-c)+"."+h(_,i-c))):_=f+_,_}})},b6f4:function(t,e,a){"use strict";a("3c47")},baf6:function(t,e,a){},bca2:function(t,e,a){"use strict";a("4d94")},bf13:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mini-progress"},[e("a-tooltip",{attrs:{title:"目标值："+t.target+"%"}},[e("div",{staticClass:"target",style:{left:t.target+"%"}},[e("span",{style:{backgroundColor:t.color}}),e("span",{style:{backgroundColor:t.color}})])]),e("div",{staticClass:"wrap"},[e("div",{staticClass:"progress",style:{backgroundColor:t.color,width:t.percent+"%",height:t.height}})])],1)},i=[],o={name:"MiniProgress",props:["target","color","percent","height"]},r=o,s=(a("e053"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"3eac4080",null);e["a"]=c.exports},c1f7:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_CorporateProjects_006_ZhongDian_ZhongDian001_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5530"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4de4"),core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_filter_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("13d5"),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_4__);__webpack_exports__["a"]={name:"StandardTable",props:{bordered:Boolean,loading:[Boolean,Object],columns:Array,dataSource:Array,rowKey:{type:[String,Function],default:"key"},pagination:{type:[Object,Boolean],default:!0},selectedRows:Array,expandedRowKeys:Array,expandedRowRender:Function},data:function(){return{needTotalList:[]}},methods:{updateSelect:function(t,e){this.$emit("update:selectedRows",e),this.$emit("selectedRowChange",t,e)},initTotalList:function(t){var e=t.filter((function(t){return t.needTotal})).map((function(t){return Object(D_CorporateProjects_006_ZhongDian_ZhongDian001_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(D_CorporateProjects_006_ZhongDian_ZhongDian001_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},t),{},{total:0})}));return e},onClear:function(){this.updateSelect([],[]),this.$emit("clear")},onChange:function(t,e,a,n){var i=n.currentDataSource;this.$emit("change",t,e,a,{currentDataSource:i})}},created:function(){this.needTotalList=this.initTotalList(this.columns)},watch:{selectedRows:function selectedRows(_selectedRows){this.needTotalList=this.needTotalList.map((function(item){return Object(D_CorporateProjects_006_ZhongDian_ZhongDian001_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])(Object(D_CorporateProjects_006_ZhongDian_ZhongDian001_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_0__["a"])({},item),{},{total:_selectedRows.reduce((function(sum,val){var v;try{v=val[item.dataIndex]?val[item.dataIndex]:eval("val.".concat(item.dataIndex))}catch(_){v=val[item.dataIndex]}return v=isNaN(parseFloat(v))?0:parseFloat(v),sum+v}),0)})}))}},computed:{selectedRowKeys:function(){var t=this;return this.selectedRows.map((function(e){return"function"===typeof t.rowKey?t.rowKey(e):e[t.rowKey]}))}}}},c393:function(t,e,a){},c783:function(t,e,a){},c7e8:function(t,e,a){},c831:function(t,e,a){},cb93:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("a-modal",{staticClass:"picPreview",attrs:{title:t.title,visible:t.imgListShow,bodyStyle:t.moduleCenter,"z-index":1200},on:{cancel:function(e){return t.$emit("close")}}},[e("div",{attrs:{id:"test_3"},on:{mousemove:t.move,mouseup:t.stop,mouseleave:t.mouseLeave}},[e("img",{ref:"singleImg",staticClass:"originStyle",staticStyle:{height:"80%"},attrs:{src:t.furl},on:{mousedown:t.start}})]),e("template",{slot:"footer"},[e("div",{staticClass:"allImg"},[e("a-button",{staticClass:"changeImg",on:{click:function(e){return t.handleCurrentChange(-1)}}},[e("a-icon",{attrs:{type:"left"}})],1),e("div",{ref:"imgbox",staticClass:"imgbox",class:t.imgList.length>6?"":"min"},t._l(t.imgList,(function(a,n){return e("img",{key:a,class:{changeColor:t.changeColor==n},attrs:{src:a},on:{click:function(e){return t.handlerImg(a,n)}}})})),0),e("a-button",{staticClass:"changeImg right",on:{click:function(e){return t.handleCurrentChange(1)}}},[e("a-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{type:"left"}})],1)],1),e("div",{staticClass:"ctr-box"},[e("a-button",{attrs:{title:"左旋转"},on:{click:t.rotateL}},[e("a-icon",{attrs:{type:"redo"}})],1),e("a-button",{attrs:{title:"右旋转"},on:{click:t.rotateR}},[e("a-icon",{attrs:{type:"undo"}})],1),e("a-button",{attrs:{title:"缩小"},on:{click:function(e){return t.scale(-1)}}},[e("a-icon",{attrs:{type:"zoom-out"}})],1),e("a-button",{attrs:{title:"放大"},on:{click:function(e){return t.scale(1)}}},[e("a-icon",{attrs:{type:"zoom-in"}})],1),e("a-button",{attrs:{title:"下载"},on:{click:t.download}},[e("a-icon",{attrs:{type:"download"}})],1)],1)])],2)},i=[],o=(a("a9e3"),a("c740"),a("a434"),{name:"PicPreview",data:function(){return{imgListShow:!1,num:0,furl:"",changeColor:-1,currentRotate:0,currentScale:1,canDrag:!1,offset_x:0,offset_y:0,mouse_x:0,mouse_y:0,moduleCenter:{display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",height:"500px",width:"800px"},downUrl:""}},props:{title:{type:String,required:!1,default:"图片预览"},filePreviewShow:{type:Boolean,required:!0,default:!0},imgList:{type:Array,required:!0,default:function(){return[]}},currentImg:{type:String,required:!1,default:""},currentIndex:{type:Number,required:!1,default:0}},watch:{filePreviewShow:function(t){var e=this;t?(this.imgListShow=this.filePreviewShow,this.imgList=this.trimSpace(this.imgList),0===this.imgList.length?(this.furl="",this.changeColor=-1):(this.changeColor=this.currentIndex,this.currentImg&&(this.changeColor=this.imgList.findIndex((function(t){return t===e.currentImg}))),setTimeout((function(){e.scrollImg(e.changeColor-5,e.changeColor<5)}),500),this.furl=this.imgList[this.changeColor],this.handlerImg(this.furl,this.changeColor))):(this.imgListShow=this.filePreviewShow,this.$refs.imgbox.scrollLeft=0,window.removeEventListener("mousewheel",this.handleScroll,!0)||window.removeEventListener("DOMMouseScroll",this.handleScroll,!0))}},mounted:function(){var t=this;setTimeout((function(){t.scrollImg(t.changeColor-5,t.changeColor<5)}),500)},methods:{trimSpace:function(t){for(var e=0;e<t.length;e++)" "!=t[e]&&null!=t[e]&&"undefined"!=typeof t[e]||(t.splice(e,1),e-=1);return t},handleScroll:function(t){this.scale(-t.deltaY)},handlerImg:function(t,e){this.currentRotate=0,this.currentScale=1,this.rotateScale(),this.$refs.singleImg&&(this.$refs.singleImg.style.left=0,this.$refs.singleImg.style.top=0),this.furl=t,this.changeColor=e,document.getElementsByClassName("originStyle")&&document.getElementsByClassName("originStyle")[0]&&document.getElementsByClassName("originStyle")[0].style&&(document.getElementsByClassName("originStyle")[0].style.position="relative")},handleCurrentChange:function(t){var e=this.changeColor+t;if(e!==this.imgList.length&&-1!==e){this.currentRotate=0,this.currentScale=1,this.rotateScale(),this.$refs.singleImg.style.left=0,this.$refs.singleImg.style.top=0,this.furl=this.imgList[e],this.changeColor=e;var a=t>0&&e<=5||t<0&&e+1>=this.imgList.length-5;this.scrollImg(t,a)}},scrollImg:function(t,e){!e&&this.$refs.imgbox&&(this.$refs.imgbox.scrollLeft+=60*t)},start:function(t){t.preventDefault&&t.preventDefault(),0==t.button&&(this.canDrag=!0,this.offset_x=document.getElementsByClassName("originStyle")[0].offsetLeft,this.offset_y=document.getElementsByClassName("originStyle")[0].offsetTop,this.mouse_x=t.pageX,this.mouse_y=t.pageY)},move:function(t){if(t.preventDefault&&t.preventDefault(),window.addEventListener("mousewheel",this.handleScroll,!0)||window.addEventListener("DOMMouseScroll",this.handleScroll,!1),1==this.canDrag){var e=t.pageX-this.mouse_x,a=t.pageY-this.mouse_y,n=this.offset_x+e+"px",i=this.offset_y+a+"px";document.getElementsByClassName("originStyle")[0].style.position="absolute",document.getElementsByClassName("originStyle")[0].style.top=i,document.getElementsByClassName("originStyle")[0].style.left=n}},mouseLeave:function(t){this.canDrag=!1,window.removeEventListener("mousewheel",this.handleScroll,!0)||window.removeEventListener("DOMMouseScroll",this.handleScroll,!0)},stop:function(t){this.canDrag=!1},rotateScale:function(){this.$refs.singleImg&&(this.$refs.singleImg.style.Transform="rotate("+this.currentRotate+"deg)scale("+this.currentScale+")",this.$refs.singleImg.style.webkitTransform="rotate("+this.currentRotate+"deg)scale("+this.currentScale+")",this.$refs.singleImg.style.MozTransform="rotate("+this.currentRotate+"deg)scale("+this.currentScale+")",this.$refs.singleImg.style.msTransform="rotate("+this.currentRotate+"deg)scale("+this.currentScale+")",this.$refs.singleImg.style.transform="rotate("+this.currentRotate+"deg)scale("+this.currentScale+")")},rotateL:function(){this.currentRotate+=15,this.rotateScale()},rotateR:function(){this.currentRotate-=15,this.rotateScale()},scale:function(t){t>=0?(this.currentScale+=.1,this.rotateScale()):(this.currentScale-=.1,this.currentScale<=.1?(this.currentScale=.1,this.rotateScale()):this.rotateScale())},downloadIamge:function(t,e){var a=new Image;a.src=t+"?v="+Math.random(),a.crossOrigin="*",a.onload=function(){var t=document.createElement("canvas");t.width=a.width,t.height=a.height;var n=t.getContext("2d");n.drawImage(a,0,0,a.width,a.height);var i=t.toDataURL("image/png"),o=document.createElement("a"),r=new MouseEvent("click");o.download=e||"img",o.href=i,o.dispatchEvent(r)}},download:function(){this.downloadIamge(this.furl,(new Date).getTime())}}}),r=o,s=(a("aef4"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"6df10d66",null);e["a"]=c.exports},ced0:function(t,e,a){"use strict";a("007d")},d710:function(t,e,a){"use strict";a.d(e,"e",(function(){return r})),a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return u})),a.d(e,"b",(function(){return p})),a.d(e,"f",(function(){return f})),a.d(e,"a",(function(){return g})),a.d(e,"g",(function(){return b}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/list",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/get",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/delete",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/routes",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(t){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function b(t){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/policy/tree",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}},d788:function(t,e,a){"use strict";a.r(e);a("b0c0");var n=function(){var t=this,e=t._self._c;return e("a-layout",{staticClass:"layout-container"},[e("a-layout-sider",{attrs:{trigger:null,collapsible:""},model:{value:t.collapsed,callback:function(e){t.collapsed=e},expression:"collapsed"}},[e("div",{class:t.collapsed?"logomini":"logo"}),e("a-menu",{attrs:{theme:"dark",mode:"inline","default-selected-keys":[t.currSelected],defaultOpenKeys:t.defaultOpenKeys}},[t._l(t.menu,(function(a){return[a.children||a.group?[e("a-sub-menu",{key:a.key},[e("span",{attrs:{slot:"title"},slot:"title"},[a.icon?e("a-icon",{attrs:{type:a.icon}}):t._e(),e("span",[t._v(t._s(a.title)+" ")])],1),t._l(a.children,(function(a){return e("a-menu-item",{key:a.key,on:{click:function(e){return t.onItemClick(a)}}},[a.icon?e("a-icon",{attrs:{type:a.icon}}):t._e(),e("span",[t._v(t._s(a.title))])],1)})),a.group?t._l(a.group,(function(a){return e("a-menu-item-group",{key:a.key,attrs:{title:a.title}},t._l(a.children,(function(a){return e("a-menu-item",{key:a.key,on:{click:function(e){return t.onItemClick(a)}}},[a.icon?e("a-icon",{attrs:{type:a.icon}}):t._e(),e("span",[t._v(t._s(a.title))])],1)})),1)})):t._e()],2)]:[e("a-menu-item",{key:a.key,on:{click:function(e){return t.onItemClick(a)}}},[a.icon?e("a-icon",{attrs:{type:a.icon}}):t._e(),e("span",[t._v(t._s(a.title))])],1)]]}))],2)],1),e("a-layout",[e("a-layout-header",{staticStyle:{background:"#fff",padding:"0"}},[e("a-icon",{staticClass:"trigger",attrs:{type:t.collapsed?"menu-unfold":"menu-fold"},on:{click:function(){return t.collapsed=!t.collapsed}}}),e("a-button-group",{style:{lineHeight:"64px",float:"right",right:"45px"}},[e("a-button",{staticClass:"header-buttons",on:{click:t.onHome}},[e("a-icon",{style:{fontSize:"24px"},attrs:{type:"desktop"}}),e("p",[t._v("返回桌面")])],1),e("a-popconfirm",{attrs:{title:"您确定退出登录?","ok-text":"确定","cancel-text":"取消"},on:{confirm:t.onLogout}},[e("a-button",{staticClass:"header-buttons"},[e("a-icon",{style:{fontSize:"24px"},attrs:{type:"export"}}),e("p",[t._v("退出登录")])],1)],1)],1)],1),e("a-layout-content",[e("a-card",{style:{margin:"15px",minHeight:"100%"}},[e("page-toggle-transition",{attrs:{disabled:t.animate.disabled,animate:t.animate.name,direction:t.animate.direction}},[e(t.route,{key:t.key,ref:"component",tag:"component",attrs:{params:t.params,crumbs:t.crumbs},on:{event:t.event}})],1)],1)],1),e("a-layout-footer",{staticStyle:{"text-align":"center"}},[t._v(" 尚可集约化信息管理系统v3.1.1 ©2022 Created by Suncool ")])],1)],1)},i=[],o=a("5530"),r=(a("14d9"),a("2f62")),s=a("7664"),c=a("93d6"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"analysis"},[e("a-row",{staticStyle:{"margin-top":"0"},attrs:{gutter:[24,24]}},[e("a-col",{attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"访问量",total:t.Status.Views}},[e("a-tooltip",{attrs:{slot:"action",title:"路由接口全量访问,不包括未通过网关严重的接口"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("trend",{staticStyle:{"margin-right":"16px"},attrs:{term:"成功率:",percent:t.Status.ViewsPercentage.success,"is-increase":!1,scale:0}}),e("trend",{staticStyle:{"margin-right":"16px"},attrs:{term:"异常率:",percent:t.Status.ViewsPercentage.fail,"is-increase":!0,scale:0}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("span",[t._v(t._s("(最近10日)日均访问量")+" ≈ ")]),e("span",[t._v(t._s(t.Status.DaysPercentage)+" / day")])])],1)],1),e("a-col",{attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"路由数量",total:t.Status.RouteCount}},[e("a-tooltip",{attrs:{slot:"action",title:"已注册的路由接口总量"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("mini-area",{attrs:{value:t.Status.WeekRouteCount}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("span",[t._v("(最近10日)日均注册量 ≈ ")]),e("span",[t._v(" "+t._s(t.Status.DaysRouteCount)+" / day")])])],1)],1),e("a-col",{attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"文件总量",total:t.Status.FileCount}},[e("a-tooltip",{attrs:{slot:"action",title:"系统资源文件总数量"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("mini-bar",{attrs:{value:t.Status.WeekFileAddCount}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("span",[t._v("文件总大小 ≈ ")]),e("span",[t._v(t._s(Math.round(t.Status.FileSize/1024/1024))+" / MB")])])],1)],1),e("a-col",{attrs:{sm:24,md:12,xl:6}},[e("chart-card",{attrs:{loading:t.loading,title:"数据增量",total:t.Status.LogsCount}},[e("a-tooltip",{attrs:{slot:"action",title:"增量接口的访问总数,包含添加/编辑/删除,下边是增量路由(访问量/全部访问量)的占比"},slot:"action"},[e("a-icon",{attrs:{type:"info-circle-o"}})],1),e("div",[e("mini-progress",{attrs:{target:100,percent:t.Status.LogsCount/t.Status.Views*100,color:"rgb(58 161 255)",height:"8px"}})],1),e("div",{staticStyle:{"white-space":"nowrap",overflow:"hidden"},attrs:{slot:"footer"},slot:"footer"},[e("trend",{staticStyle:{"margin-right":"16px"},attrs:{term:"(最近10日)增长占比 ≈ ",percent:Math.round(t.Status.DaysLogs/t.Status.LogsCount*100),"is-increase":!0,scale:0}})],1)],1)],1)],1),e("a-card",[e("a-col",{attrs:{xl:16,lg:12,md:12,sm:24,xs:24}},[e("a-tabs",{attrs:{"default-active-key":"1"}},[e("a-tab-pane",{key:"1",attrs:{tab:"(最近10日)访问排行"}},[e("bar",{attrs:{value:t.Status.ViewsRanking}})],1),e("a-tab-pane",{key:"2",attrs:{tab:"(最近10日)访问量","force-render":""}},[e("bar",{attrs:{value:t.Status.RoutesRanking}})],1)],1)],1),e("a-col",{attrs:{xl:8,lg:12,md:12,sm:24,xs:24}},[e("ranking-list",{attrs:{title:"(最近10日)异常排行",list:t.Status.FailRanking}})],1)],1)],1)},u=[],d=(a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("1714")),p=a("1d43"),h=a("942d"),f=a("bf13"),m=a("527e"),g=a("edd9"),v=a("6653"),b=a("c7eb"),y=a("1da1"),_=a("7424"),w=a("b775");function k(t){return O.apply(this,arguments)}function O(){return O=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("".concat(_["BASE_URL"],"/systemstatus/get"),e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}var x={data:function(){return{loading:!0,Status:{Views:0,ViewsPercentage:{success:0,fail:0},DaysPercentage:0,RouteCount:0,WeekRouteCount:[],DaysRouteCount:0,FileCount:0,WeekFileAddCount:0,LogsCount:0,DaysLogs:0,ViewsRanking:[],RoutesRanking:[],FailRanking:[]}}},created:function(){this.onLoad()},components:{Trend:m["a"],Bar:g["a"],RankingList:v["a"],MiniProgress:f["a"],MiniBar:h["a"],MiniArea:p["a"],ChartCard:d["a"]},methods:{onLoad:function(){var t=this;this.loading=!0,Promise.all([k({statusType:"Views"}),k({statusType:"ViewsPercentage"}),k({statusType:"DaysPercentage"}),k({statusType:"RouteCount"}),k({statusType:"WeekRouteCount"}),k({statusType:"DaysRouteCount"}),k({statusType:"FileCount"}),k({statusType:"WeekFileAddCount"}),k({statusType:"FileSize"}),k({statusType:"LogsCount"}),k({statusType:"DaysLogs"}),k({statusType:"ViewsRanking"}),k({statusType:"RoutesRanking"}),k({statusType:"FailRanking"})]).then((function(e){t.$nextTick((function(){t.Status.Views=e[0].data.data.count,t.Status.ViewsPercentage=e[1].data.data,t.Status.DaysPercentage=e[2].data.data.count,t.Status.RouteCount=e[3].data.data.count,t.Status.WeekRouteCount=e[4].data.data,t.Status.DaysRouteCount=e[5].data.data.count,t.Status.FileCount=e[6].data.data.count,t.Status.WeekFileAddCount=e[7].data.data,t.Status.FileSize=e[8].data.data.count,t.Status.LogsCount=e[9].data.data.count,t.Status.DaysLogs=e[10].data.data.count,t.Status.ViewsRanking=e[11].data.data,t.Status.RoutesRanking=e[12].data.data,t.Status.FailRanking=e[13].data.data.map((function(t){return{name:t.record,total:t.count}})),t.loading=!1}))})).catch((function(e){t.loading=!1}))}}},j=x,S=(a("7435"),a("2877")),C=Object(S["a"])(j,l,u,!1,null,"8ee0b448",null),R=C.exports,D=R,z=function(){var t=this,e=this,a=e._self._c;return a("div",{staticStyle:{padding:"0 30px"}},[a("a-form-model",{ref:"searchForm",attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,model:e.searchForm}},[a("a-row",[a("a-col",{attrs:{lg:8,md:12,sm:24}},[a("a-form-model-item",{attrs:{label:"关键字"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:""},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1)],1),e.advanced?void 0:e._e(),a("a-col",{attrs:{lg:8,md:12,sm:24}},[a("div",{staticStyle:{"padding-left":"50px","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:e.onSearch}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.onReset}},[e._v("重置")])],1)])],2)],1),a("div",{staticStyle:{width:"100%",padding:"5px 0px"}},[a("a-space",[a("a-dropdown-button",{directives:[{name:"auth",rawName:"v-auth",value:"user.add",expression:"`user.add`"}],on:{click:function(t){return e.onAdd()}}},[e._v(" 新建用户 ")]),a("a-dropdown",{attrs:{disabled:!e.selectedRows.length}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"oneditorganization",on:{click:e.onEditOrganization}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 添加到行业 ")],1),a("a-menu-item",{key:"1",on:{click:e.onPullOrganization}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 从该行业移除 ")],1)],1),a("a-button",[e._v("批量设置行业"),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-dropdown",{attrs:{disabled:!e.selectedRows.length}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e._l(e.policylist,(function(t){return[a("a-menu-item",{key:t.id,on:{click:function(a){return e.onEditPolicy(t)}}},[a("a-icon",{attrs:{type:"user"}}),e._v(" "+e._s(t.title)+" ")],1)]}))],2),a("a-button",[e._v("授权策略"),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-dropdown",{attrs:{disabled:!e.selectedRows.length}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"user",on:{click:function(t){return e.onEditRole("user")}}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 用户 ")],1),a("a-menu-item",{key:"guest",on:{click:function(t){return e.onEditRole("guest")}}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 访客 ")],1)],1),a("a-button",[e._v(" 设置角色 "),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-button-group",[a("a-button",{attrs:{disabled:!e.selectedRows.length},on:{click:e.deleteRecord}},[e._v("删除")])],1)],1)],1),a("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"user.paginate",expression:"`user.paginate`"}],attrs:{loading:e.loading,columns:e.columns,dataSource:e.data.items,selectedRows:e.selectedRows,rowKey:"id",pagination:!1},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t},clear:e.onClear,selectedRowChange:e.onSelectChange},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.record;return a("span",{},[a("a-tooltip",[a("template",{slot:"title"},[e._v("删除")]),a("a",{directives:[{name:"auth",rawName:"v-auth",value:"user.delete",expression:"`user.delete`"}],on:{click:function(t){return e.deleteRecord(n)}}},[a("a-icon",{attrs:{type:"delete"}})],1)],2)],1)}},{key:"username",fn:function(t){var n=t.record;return a("span",{},[a("a",{directives:[{name:"auth",rawName:"v-auth",value:"user.edit",expression:"`user.edit`"}],staticStyle:{color:"#1890ff"},on:{click:function(t){return e.onEdit(n)}}},[e._v(" "+e._s(n.username)+" ")])])}},{key:"role",fn:function(t){var n=t.record;return a("span",{},["admin"==n.role?a("a-tag",{attrs:{color:"cyan"}},[e._v(" 管理员 ")]):e._e(),"user"==n.role?a("a-tag",{attrs:{color:"blue"}},[e._v(" 用户 ")]):e._e(),"guest"==n.role?a("a-tag",{attrs:{color:"green"}},[e._v(" 访客 ")]):e._e()],1)}},{key:"policy",fn:function(t){var n=t.record;return a("span",{},[n.policy?a("a-tag",{attrs:{color:"purple"}},[e._v(e._s(n.policy.title)+" ")]):[e._v(" N/A ")]],2)}},{key:"organization",fn:function(t){var n=t.record;return a("span",{},[n.organization&&n.organization.length?e._l(n.organization,(function(t){return a("a-tag",{key:t.id,attrs:{color:"blue"}},[e._v(e._s(t.title)+" ")])})):[e._v(" N/A ")]],2)}}])}),a("a-pagination",{staticStyle:{"text-align":"right",padding:"15px 0"},attrs:{size:"small",current:e.pagination.page,defaultPageSize:e.pagination.per_page,pageSizeOptions:["10","20","30","40"],total:e.data.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(t){return"共 ".concat(t," 条")}},on:{change:e.onChangePage,showSizeChange:e.onChangePage}}),a("a-modal",{attrs:{title:e.edittitle,visible:e.visible,width:400,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onok,cancel:function(){t.$refs.formsadd.reset(),t.organization=[],e.visible=!1}}},[a("k-form-build",{ref:"formsadd",attrs:{value:e.jsonData,dynamicData:e.dynamicData}})],1),a("a-modal",{attrs:{title:"批量设置行业",visible:e.visibleEditOrg,width:600,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onEditOrg,cancel:function(){t.organization=[],e.visibleEditOrg=!1}}},[a("a-form-model-item",{attrs:{label:"所在组织","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:e.organizations,placeholder:"请选择所在组织",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:e.organization,callback:function(t){e.organization=t},expression:"organization"}})],1)],1),a("a-modal",{attrs:{title:"批量从行业移除",visible:e.visiblePullOrg,width:600,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onPullOrg,cancel:function(){t.organization=[],e.visiblePullOrg=!1}}},[a("a-form-model-item",{attrs:{label:"所在组织","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:e.rowOrganizations,placeholder:"请选择所在组织",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:e.pullOrganization,callback:function(t){e.pullOrganization=t},expression:"pullOrganization"}})],1)],1)],1)},$=[],T=a("2909"),F=(a("159b"),a("99af"),a("3521")),P=a("60bf"),E=a("d710"),L=a("309a"),I=a("6821"),A=a.n(I),K={components:{StandardTable:F["a"]},props:{params:{type:Object},event:{type:Function}},data:function(){return{data:{},columns:[{title:"登录账号",width:100,dataIndex:"username",scopedSlots:{customRender:"username"}},{title:"昵称",width:120,dataIndex:"nickname",scopedSlots:{customRender:"nickname"}},{title:"角色",width:100,dataIndex:"role",scopedSlots:{customRender:"role"}},{title:"策略",width:100,scopedSlots:{customRender:"policy"}},{title:"组织",scopedSlots:{customRender:"organization"}},{title:"操作",width:80,scopedSlots:{customRender:"action"},align:"center"}],visible:!1,visibleEditOrg:!1,visiblePullOrg:!1,loading:!1,jsonData:{},selectedRows:[],searchForm:{},labelCol:{span:5},wrapperCol:{span:18,offset:1},advanced:!1,edittitle:"添加用户",editId:"",organizations:[],pullOrganization:[],methods_act:null,policylist:[],organization:[],policylists:[]}},created:function(){this.onLoad()},authorize:{init:"user.paginate",deleteRecord:"user.delete",onAdd:"user.add",onEdit:"user.edit"},computed:{pagination:{get:function(){return{page:this.data.page||1,per_page:this.data.per_page||10}},set:function(t){this.data.page=t.page,this.data.per_page=t.per_page}},rowOrganizations:function(){var t=[];return this.selectedRows.forEach((function(e){t=[].concat(Object(T["a"])(t),Object(T["a"])(e.organization||[]))})),t},dynamicData:function(){var t={organizations:this.organizations,policylist:[]};for(var e in this.policylist)t.policylist.push({value:this.policylist[e].id,label:this.policylist[e].title});return t},selectedRowIds:function(){return this.selectedRows.map((function(t){return t.id}))},userinfo:function(){return this.$store.getters["account/user"]}},methods:{onLoad:function(){var t=this;this.selectedRows=[],this.paginate(),Promise.all([Object(E["e"])(),Object(L["e"])(),Object(P["b"])({name:"user_add"})]).then((function(e){t.policylist=e[0].data.data,t.organizations=e[1].data.data,t.jsonData=e[2].data.data.form})).catch((function(t){}))},onPullOrganization:function(){this.pullOrganization=[],this.visiblePullOrg=!0,this.loading=!1},onPullOrg:function(){var t=this;this.loading=!0,Object(c["u"])({id:this.selectedRowIds,organization:this.pullOrganization}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visiblePullOrg=!1,t.loading=!1})).catch((function(e){t.loading=!1}))},onEditOrganization:function(){this.organization=[],this.visibleEditOrg=!0,this.loading=!1},onEditOrg:function(){var t=this;this.loading=!0,Object(c["j"])({id:this.selectedRowIds,organization:this.organization}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visibleEditOrg=!1,t.loading=!1})).catch((function(e){t.$message.error(e),t.loading=!1}))},onEditPolicy:function(t){var e=this;Object(c["l"])({id:this.selectedRowIds,policy:t.id}).then((function(t){e.$message.success(t.data.message),e.onLoad()})).catch((function(t){e.$message.error(t.data.message)}))},onEditRole:function(t){var e=this,a=this;if("user"===t){var n=[];if(this.selectedRows.forEach((function(t){t.policy||n.push({username:t.username,realname:t.realname,message:"未设置策略"}),t.organization&&t.organization.length||n.push({username:t.username,realname:t.realname,message:"未设置组织"})})),n.length){var i=[];return n.forEach((function(t){i.push(e.$createElement("p","".concat(t.realname,",错误信息:").concat(t.message)))})),void this.$error({title:"设置角色错误",content:this.$createElement("div",{},i)})}this.$confirm({title:"确定要将用户角色设置为用户吗?",content:"将用户角色设置为用户时,请确保该用户已拥有组织及策略,用户将移至用户列表",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){Object(c["m"])({id:a.selectedRowIds,role:t}).then((function(t){a.$message.success(t.data.message),a.onLoad()})).catch((function(t){a.$message.error(t)}))},onCancel:function(){}})}else this.$confirm({title:"确定要将用户角色设置为访客吗?",content:"将用户角色设置为访客,用户将移至访客列表",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){Object(c["m"])({id:a.selectedRowIds,role:t}).then((function(t){a.$message.success(t.data.message),a.onLoad()})).catch((function(t){a.$message.error(t)}))},onCancel:function(){}})},paginate:function(){var t=this;Object(c["t"])(Object.assign(this.pagination,this.searchForm,{roletype:"admin"})).then((function(e){t.loading=!1,t.data=e.data.data})).catch((function(t){}))},onSelectChange:function(){},onClear:function(){this.$message.info("您清空了勾选的所有行")},onChangePage:function(t,e){this.loading=!0,this.pagination.page=t,this.pagination.per_page=e,this.paginate()},deleteRecord:function(t){var e=[];e=t.id?[t.id]:this.selectedRowIds;var a=this;this.$confirm({title:"确定要删除此用户吗?",content:"删除后该用户所绑定所有第三方登录信息将被一同移除",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.loading=!0,a.onLoad(),Object(c["g"])({ids:e}).then((function(){a.onLoad()})).catch((function(t){}))},onCancel:function(){}})},onAdd:function(){var t=this;this.visible=!0,this.editId="",this.edittitle="添加用户",this.methods_act=c["f"],this.$nextTick((function(){t.$refs.formsadd.reset(),t.$refs.formsadd.enable(["username"])}))},onEdit:function(t){var e=this;this.visible=!0,this.recordes=t,this.edittitle="编辑用户",this.editId=t.id,this.methods_act=c["h"],this.$nextTick((function(){e.$refs.formsadd.disable(["username"]),e.organization=t.organization,e.$refs.formsadd.setData({username:t.username,nickname:t.nickname,realname:t.realname,password:"123456",mobile:t.mobile,policy:t.policy})}))},onok:function(){var t=this;this.$refs.formsadd.getData().then((function(e){var a={id:t.editId,username:e.username,password:A()(e.password),realname:e.realname,nickname:e.nickname,mobile:e.mobile};t.editId||(a.organization=[t.id]),t.methods_act(a).then((function(){t.$refs.formsadd.reset(),t.organization=[],t.visible=!1,t.$message.success("保存成功"),t.onLoad()})).catch((function(t){}))})).catch((function(t){}))},onSearch:function(){this.pagination={per_page:10,page:1},this.loading=!0,this.paginate()},onReset:function(){this.loading=!0,this.searchForm={},this.pagination={per_page:10,page:1},this.paginate()}}},M=K,N=(a("e32f"),Object(S["a"])(M,z,$,!1,null,"95b97cae",null)),B=N.exports,q=B,U=function(){var t=this,e=this,a=e._self._c;return a("div",{staticStyle:{padding:"0 30px"}},[a("a-form-model",{ref:"searchForm",attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,model:e.searchForm}},[a("a-row",[a("a-col",{attrs:{lg:8,md:12,sm:24}},[a("a-form-model-item",{attrs:{label:"关键字"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:""},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1)],1),e.advanced?void 0:e._e(),a("a-col",{attrs:{lg:8,md:12,sm:24}},[a("div",{staticStyle:{"padding-left":"50px","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:e.onSearch}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.onReset}},[e._v("重置")])],1)])],2)],1),a("div",{staticStyle:{width:"100%",padding:"5px 0px"}},[a("a-space",[a("a-dropdown-button",{directives:[{name:"auth",rawName:"v-auth",value:"user.add",expression:"`user.add`"}],on:{click:function(t){return e.onAdd()}}},[e._v(" 新建用户 ")]),a("a-dropdown",{attrs:{disabled:!e.selectedRows.length}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"oneditorganization",on:{click:e.onEditOrganization}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 添加到行业 ")],1),a("a-menu-item",{key:"1",on:{click:e.onPullOrganization}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 从该行业移除 ")],1)],1),a("a-button",[e._v("批量设置行业"),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-dropdown",{attrs:{disabled:!e.selectedRows.length}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e._l(e.policylist,(function(t){return[a("a-menu-item",{key:t.id,on:{click:function(a){return e.onEditPolicy(t)}}},[a("a-icon",{attrs:{type:"user"}}),e._v(" "+e._s(t.title)+" ")],1)]}))],2),a("a-button",[e._v("授权策略"),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-dropdown",{attrs:{disabled:!e.selectedRows.length}},[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"guest",on:{click:function(t){return e.onEditRole("admin")}}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 管理员 ")],1),a("a-menu-item",{key:"user",on:{click:function(t){return e.onEditRole("user")}}},[a("a-icon",{attrs:{type:"user"}}),e._v(" 用户 ")],1)],1),a("a-button",[e._v(" 设置角色 "),a("a-icon",{attrs:{type:"down"}})],1)],1),a("a-button-group",[a("a-button",{attrs:{disabled:!e.selectedRows.length},on:{click:e.deleteRecord}},[e._v("删除")])],1)],1)],1),a("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"user.paginate",expression:"`user.paginate`"}],attrs:{loading:e.loading,columns:e.columns,dataSource:e.data.items,selectedRows:e.selectedRows,rowKey:"id",pagination:!1},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t},clear:e.onClear,selectedRowChange:e.onSelectChange},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.record;return a("span",{},[a("a-tooltip",[a("template",{slot:"title"},[e._v("删除")]),a("a",{directives:[{name:"auth",rawName:"v-auth",value:"user.delete",expression:"`user.delete`"}],on:{click:function(t){return e.deleteRecord(n)}}},[a("a-icon",{attrs:{type:"delete"}})],1)],2)],1)}},{key:"username",fn:function(t){var n=t.record;return a("span",{},[a("a",{directives:[{name:"auth",rawName:"v-auth",value:"user.edit",expression:"`user.edit`"}],staticStyle:{color:"#1890ff"},on:{click:function(t){return e.onEdit(n)}}},[e._v(" "+e._s(n.username)+" ")])])}},{key:"role",fn:function(t){var n=t.record;return a("span",{},["admin"==n.role?a("a-tag",{attrs:{color:"cyan"}},[e._v(" 管理员 ")]):e._e(),"user"==n.role?a("a-tag",{attrs:{color:"blue"}},[e._v(" 用户 ")]):e._e(),"guest"==n.role?a("a-tag",{attrs:{color:"green"}},[e._v(" 访客 ")]):e._e()],1)}},{key:"policy",fn:function(t){var n=t.record;return a("span",{},[n.policy?a("a-tag",{attrs:{color:"purple"}},[e._v(e._s(n.policy.title)+" ")]):[e._v(" N/A ")]],2)}},{key:"organization",fn:function(t){var n=t.record;return a("span",{},[n.organization&&n.organization.length?e._l(n.organization,(function(t){return a("a-tag",{key:t.id,attrs:{color:"blue"}},[e._v(e._s(t.title)+" ")])})):[e._v(" N/A ")]],2)}}])}),a("a-pagination",{staticStyle:{"text-align":"right",padding:"15px 0"},attrs:{size:"small",current:e.pagination.page,defaultPageSize:e.pagination.per_page,pageSizeOptions:["10","20","30","40"],total:e.data.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(t){return"共 ".concat(t," 条")}},on:{change:e.onChangePage,showSizeChange:e.onChangePage}}),a("a-modal",{attrs:{title:e.edittitle,visible:e.visible,width:400,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onok,cancel:function(){t.$refs.formsadd.reset(),t.organization=[],e.visible=!1}}},[a("k-form-build",{ref:"formsadd",attrs:{value:e.jsonData,dynamicData:e.dynamicData}})],1),a("a-modal",{attrs:{title:"批量设置行业",visible:e.visibleEditOrg,width:600,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onEditOrg,cancel:function(){t.organization=[],e.visibleEditOrg=!1}}},[a("a-form-model-item",{attrs:{label:"所在组织","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:e.organizations,placeholder:"请选择所在组织",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:e.organization,callback:function(t){e.organization=t},expression:"organization"}})],1)],1),a("a-modal",{attrs:{title:"批量从行业移除",visible:e.visiblePullOrg,width:600,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onPullOrg,cancel:function(){t.organization=[],e.visiblePullOrg=!1}}},[a("a-form-model-item",{attrs:{label:"所在组织","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:e.rowOrganizations,placeholder:"请选择所在组织",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:e.pullOrganization,callback:function(t){e.pullOrganization=t},expression:"pullOrganization"}})],1)],1)],1)},W=[],H={components:{StandardTable:F["a"]},props:{params:{type:Object},event:{type:Function}},data:function(){return{data:{},columns:[{title:"登录账号",dataIndex:"username",scopedSlots:{customRender:"username"}},{title:"昵称",width:140,dataIndex:"realname",scopedSlots:{customRender:"realname"}},{title:"角色",width:100,dataIndex:"role",scopedSlots:{customRender:"role"}},{title:"策略",width:100,scopedSlots:{customRender:"policy"}},{title:"组织",scopedSlots:{customRender:"organization"}},{title:"操作",width:80,scopedSlots:{customRender:"action"},align:"center"}],visible:!1,visibleEditOrg:!1,visiblePullOrg:!1,loading:!1,jsonData:{},selectedRows:[],searchForm:{},labelCol:{span:5},wrapperCol:{span:18,offset:1},advanced:!1,edittitle:"添加用户",editId:"",organizations:[],pullOrganization:[],methods_act:null,policylist:[],organization:[],policylists:[]}},created:function(){this.onLoad()},authorize:{init:"user.paginate",deleteRecord:"user.delete",onAdd:"user.add",onEdit:"user.edit"},computed:{pagination:{get:function(){return{page:this.data.page||1,per_page:this.data.per_page||10}},set:function(t){this.data.page=t.page,this.data.per_page=t.per_page}},rowOrganizations:function(){var t=[];return this.selectedRows.forEach((function(e){t=[].concat(Object(T["a"])(t),Object(T["a"])(e.organization||[]))})),t},dynamicData:function(){var t={organizations:this.organizations,policylist:[]};for(var e in this.policylist)t.policylist.push({value:this.policylist[e].id,label:this.policylist[e].title});return t},selectedRowIds:function(){return this.selectedRows.map((function(t){return t.id}))},userinfo:function(){return this.$store.getters["account/user"]}},methods:{onLoad:function(){var t=this;this.selectedRows=[],this.paginate(),Promise.all([Object(E["e"])(),Object(L["e"])(),Object(P["b"])({name:"user_add"})]).then((function(e){t.policylist=e[0].data.data,t.organizations=e[1].data.data,t.jsonData=e[2].data.data.form})).catch((function(t){}))},onPullOrganization:function(){this.pullOrganization=[],this.visiblePullOrg=!0,this.loading=!1},onPullOrg:function(){var t=this;this.loading=!0,Object(c["u"])({id:this.selectedRowIds,organization:this.pullOrganization}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visiblePullOrg=!1,t.loading=!1})).catch((function(e){t.loading=!1}))},onEditOrganization:function(){this.organization=[],this.visibleEditOrg=!0,this.loading=!1},onEditOrg:function(){var t=this;this.loading=!0,Object(c["j"])({id:this.selectedRowIds,organization:this.organization}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visibleEditOrg=!1,t.loading=!1})).catch((function(e){t.$message.error(e),t.loading=!1}))},onEditPolicy:function(t){var e=this;Object(c["l"])({id:this.selectedRowIds,policy:t.id}).then((function(t){e.$message.success(t.data.message),e.onLoad()})).catch((function(t){e.$message.error(t.data.message)}))},onEditRole:function(t){var e=this,a=this;if("user"===t){var n=[];if(this.selectedRows.forEach((function(t){t.policy||n.push({username:t.username,realname:t.realname,message:"未设置策略"}),t.organization&&t.organization.length||n.push({username:t.username,realname:t.realname,message:"未设置组织"})})),n.length){var i=[];return n.forEach((function(t){i.push(e.$createElement("p","".concat(t.realname,",错误信息:").concat(t.message)))})),void this.$error({title:"设置角色错误",content:this.$createElement("div",{},i)})}this.$confirm({title:"确定要将用户角色设置为用户吗?",content:"将用户角色设置为用户时,请确保该用户已拥有组织及策略,用户将移至用户列表",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){Object(c["m"])({id:a.selectedRowIds,role:t}).then((function(t){a.$message.success(t.data.message),a.onLoad()})).catch((function(t){a.$message.error(t)}))},onCancel:function(){}})}else this.$confirm({title:"确定要将用户角色设置为管理员吗?",content:"将用户角色设置为管理员,用户将移至管理员列表",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){Object(c["m"])({id:a.selectedRowIds,role:t}).then((function(t){a.$message.success(t.data.message),a.onLoad()})).catch((function(t){a.$message.error(t)}))},onCancel:function(){}})},paginate:function(){var t=this;Object(c["t"])(Object.assign(this.pagination,this.searchForm,{roletype:"guest"})).then((function(e){t.loading=!1,t.data=e.data.data})).catch((function(t){}))},onSelectChange:function(){},onClear:function(){this.$message.info("您清空了勾选的所有行")},onChangePage:function(t,e){this.loading=!0,this.pagination.page=t,this.pagination.per_page=e,this.paginate()},deleteRecord:function(t){var e=[];e=t.id?[t.id]:this.selectedRowIds;var a=this;this.$confirm({title:"确定要删除此用户吗?",content:"删除后该用户所绑定所有第三方登录信息将被一同移除",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.loading=!0,a.onLoad(),Object(c["g"])({ids:e}).then((function(){a.onLoad()})).catch((function(t){}))},onCancel:function(){}})},onAdd:function(){var t=this;this.visible=!0,this.editId="",this.edittitle="添加用户",this.methods_act=c["f"],this.$nextTick((function(){t.$refs.formsadd.reset(),t.$refs.formsadd.enable(["username"])}))},onEdit:function(t){var e=this;this.visible=!0,this.recordes=t,this.edittitle="编辑用户",this.editId=t.id,this.methods_act=c["h"],this.$nextTick((function(){e.$refs.formsadd.disable(["username"]),e.organization=t.organization,e.$refs.formsadd.setData({username:t.username,nickname:t.nickname,realname:t.realname,password:"123456",mobile:t.mobile,policy:t.policy})}))},onok:function(){var t=this;this.$refs.formsadd.getData().then((function(e){var a={id:t.editId,username:e.username,password:A()(e.password),realname:e.realname,nickname:e.nickname,mobile:e.mobile};t.editId||(a.organization=[t.id]),t.methods_act(a).then((function(){t.$refs.formsadd.reset(),t.organization=[],t.visible=!1,t.$message.success("保存成功"),t.onLoad()})).catch((function(t){}))})).catch((function(t){}))},onSearch:function(){this.pagination={per_page:10,page:1},this.loading=!0,this.paginate()},onReset:function(){this.loading=!0,this.searchForm={},this.pagination={per_page:10,page:1},this.paginate()}}},J=H,V=(a("e637"),Object(S["a"])(J,U,W,!1,null,"647de187",null)),Z=V.exports,G=Z,Y=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{padding:"0 30px"}},[e("a-spin",{staticStyle:{height:"100%",width:"100%"},attrs:{spinning:t.loading,tip:"Loading..."}},[e("a-card",{staticClass:"qrxm_set",staticStyle:{padding:"0",margin:"0"},attrs:{title:"访客权限设置"}},[e("a-button",{attrs:{slot:"extra",type:"primary"},on:{click:t.onSave},slot:"extra"},[t._v("保存提交")]),e("a-card-grid",{staticStyle:{width:"100%"}},[e("a-card-meta",[e("div",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("设置组织")]),e("span",[e("a-checkbox",{staticStyle:{float:"right"},attrs:{indeterminate:t.indeterminate.organization,checked:t.checks.organization},on:{change:t.onOrganizationAllChange}},[t._v(" 全选 ")])],1)]),e("div",{staticClass:"organization_box",attrs:{slot:"description"},slot:"description"},[e("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.organizations,placeholder:"请选择所在组织",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.guests.organization,callback:function(e){t.$set(t.guests,"organization",e)},expression:"guests.organization"}})],1)])],1),e("a-card-grid",{staticStyle:{width:"100%"}},[e("a-card-meta",[e("div",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("设置应用")]),e("span",[e("a-checkbox",{staticStyle:{float:"right"},attrs:{indeterminate:t.indeterminate.application,checked:t.checks.application},on:{change:t.onApplicationAllChange}},[t._v(" 全选 ")])],1)]),e("div",{attrs:{slot:"description"},slot:"description"},[e("a-checkbox-group",{attrs:{value:t.guests.application},on:{change:t.onApplicationChange}},[t._l(t.applications,(function(a){return[e("a-checkbox",{key:a.id,staticClass:"checkbox-item",attrs:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])]}))],2)],1)])],1),e("a-card-grid",{staticStyle:{width:"100%"}},[e("a-card-meta",[e("div",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("设置接口")]),e("span",[e("a-checkbox",{staticStyle:{float:"right"},attrs:{indeterminate:t.indeterminate.route,checked:t.checks.route},on:{change:t.onRouteAllChange}},[t._v(" 全选 ")])],1)]),e("div",{attrs:{slot:"description"},slot:"description"},[e("a-checkbox-group",{attrs:{value:t.guests.route},on:{change:t.onRouteChange}},[t._l(t.routes,(function(a){return[e("a-card",{key:a._id,attrs:{title:a._id,bordered:!1}},[t._l(a.records,(function(a){return[e("a-checkbox",{key:a.parent,staticClass:"checkbox-item",attrs:{value:a.parent}},[t._v(" "+t._s(a.title)+" ")])]}))],2)]}))],2)],1)])],1)],1)],1)],1)},X=[];function Q(t){return tt.apply(this,arguments)}function tt(){return tt=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/guest/get",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),tt.apply(this,arguments)}function et(t){return at.apply(this,arguments)}function at(){return at=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/guest/edit",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),at.apply(this,arguments)}var nt=a("082f"),it={props:{params:{type:Object},event:{type:Function}},data:function(){return{loading:!1,applications:[],organizations:[],guests:{},routes:[],indeterminate:{organization:!0,application:!0,route:!0},checks:{organization:void 0,application:void 0,route:void 0},organization:[]}},created:function(){this.onLoad()},computed:Object(o["a"])(Object(o["a"])({},Object(r["e"])("setting",["theme","animate"])),{},{routeids:function(){var t=this.routes.map((function(t){var e=t.records.map((function(t){return t.parent}));return e})),e=[];return t.forEach((function(t){e=[].concat(Object(T["a"])(e),Object(T["a"])(t))})),e}}),authorize:{},watch:{"guests.organization":{handler:function(t){var e=this.guests.organization.length&&this.guests.organization.length!==this.organizations.length,a=this.guests.organization.length&&this.guests.organization.length===this.organizations.length;this.checks.organization=!!a,e=!!e,this.indeterminate.organization=!!t.length&&e},deep:!0},"guests.application":{handler:function(t){var e=this.guests.application.length&&this.guests.application.length!==this.applications.length,a=this.guests.application.length&&this.guests.application.length===this.applications.length;this.checks.application=!!a,e=!!e,this.indeterminate.application=!!t.length&&e},deep:!0},"guests.route":{handler:function(t){var e=this.guests.route.length&&this.guests.route.length!==this.routeids.length,a=this.guests.route.length&&this.guests.route.length===this.routeids.length;this.checks.route=!!a,e=!!e,this.indeterminate.route=!!t.length&&e},deep:!0}},methods:{onLoad:function(){var t=this;Promise.all([Object(nt["d"])(),Object(L["e"])(),Object(E["f"])({authkeys:["GateWayKey"],public:!1}),Q()]).then((function(e){t.applications=e[0].data.data,t.organizations=e[1].data.data,t.routes=e[2].data.data,t.guests=e[3].data.data})).catch((function(t){}))},onSave:function(){var t=this;this.loading=!0,et({organization:this.guests.organization,application:this.guests.application,route:this.guests.route}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.loading=!1})).catch((function(e){t.$message.error(e),t.loading=!1}))},onOrganizationChange:function(t){this.guests.organization=t},onApplicationChange:function(t){this.guests.application=t},onRouteChange:function(t){this.guests.route=t},onOrganizationAllChange:function(t){var e=t.target.checked;this.uus=[],e?(this.digui(this.organizations),this.guests.organization=this.uus):(this.uus=[],this.guests.organization=[])},digui:function(t){var e;(e=this.uus).push.apply(e,Object(T["a"])(t.map((function(t){return t.id}))));for(var a=0;a<t.length;a++)t[a].children&&this.digui(t[a].children)},onApplicationAllChange:function(t){var e=t.target.checked;this.guests.application=e?this.applications.map((function(t){return t.id})):[]},onRouteAllChange:function(t){var e=t.target.checked;this.guests.route=e?this.routeids:[]}}},ot=it,rt=(a("e8f9"),a("22d3"),a("b212"),Object(S["a"])(ot,Y,X,!1,null,"1e0dded9",null)),st=rt.exports,ct=st,lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("a-row",[e("a-card",{attrs:{bordered:!1}},[e("div",{attrs:{slot:"extra"},slot:"extra"},[e("a-radio-group",{attrs:{"button-style":"solid"},on:{change:t.onChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[e("a-radio-button",{attrs:{value:"all"}},[t._v("全部")]),e("a-radio-button",{attrs:{value:"system"}},[t._v("系统应用")]),e("a-radio-button",{attrs:{value:"router"}},[t._v("路由应用")]),e("a-radio-button",{attrs:{value:"iframe"}},[t._v("外部应用")])],1),e("a-input-search",{staticStyle:{"margin-left":"16px",width:"272px"},attrs:{allowClear:""},on:{search:t.onSearch}})],1),e("a-button",{directives:[{name:"auth",rawName:"v-auth",value:"application.edit",expression:"`application.edit`"}],staticStyle:{width:"100%"},attrs:{type:"dashed",icon:"plus",loading:t.loading},on:{click:t.onSetting}},[t._v("添加")]),e("a-list",{attrs:{loading:t.loading,size:"large",pagination:!1}},t._l(t.application_list,(function(a){return e("a-list-item",{key:a.id},[e("a-list-item-meta",[e("div",{attrs:{slot:"description"},slot:"description"},[e("span",[t._v("名称："+t._s(a.name))]),e("span",[t._v("路由地址："+t._s(a.router))])]),e("a-avatar",{attrs:{slot:"avatar",size:"large",shape:"square",src:a.icon.url},slot:"avatar"}),e("a",{directives:[{name:"auth",rawName:"v-auth",value:"application.edit",expression:"`application.edit`"}],staticStyle:{color:"#1890ff"},attrs:{slot:"title"},on:{click:function(e){return t.onSetting(a)}},slot:"title"},[t._v(t._s(a.title))])],1),e("div",{attrs:{slot:"actions"},slot:"actions"},[e("a",{directives:[{name:"auth",rawName:"v-auth",value:"application.delete",expression:"`application.delete`"}],staticStyle:{color:"#1890ff"},on:{click:function(e){return t.onDelete(a)}}},[t._v("删除")])]),e("div",{staticClass:"list-content"},[e("div",{staticClass:"list-content-item"},[e("span",[t._v("更新时间："+t._s(a._modifytime))])])])],1)})),1)],1)],1),e("a-modal",{attrs:{title:t.title,"ok-text":"确认","cancel-text":"取消",centered:"",width:"70%",confirmLoading:t.loading,"z-index":1002},on:{ok:t.onOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("k-form-build",{ref:"form",attrs:{value:t.jsonData,dynamicData:t.dynamicData,config:t.config}})],1)],1)},ut=[],dt=(a("4de4"),a("661a")),pt=a("a78e"),ht=a.n(pt),ft={name:"application",props:{id:{type:String},data:{type:Object,default:function(){return{}}},refresh:{type:Function,default:function(){}}},computed:{config:function(){return{uploadFileHeaders:{Authorization:ht.a.get("Authorization")},uploadImageHeaders:{Authorization:ht.a.get("Authorization")}}},dynamicData:function(){return{config:{},IconList:this.IconList}}},data:function(){return{title:"设置应用",jsonData:{},IconList:[],visible:!1,application_list:[],record:{},loading:!1,value:"all"}},authorize:{onDelete:"application.delete",onSetting:"application.edit",onAdd:"user.add",onEdit:"user.edit"},created:function(){this.init()},methods:{init:function(){var t=this;Promise.all([Object(nt["d"])(),Object(dt["b"])(),Object(P["b"])({name:"applications"})]).then((function(e){t.application_list=e[0].data.data,t.datas=t.application_list,t.IconList=e[1].data.data,t.jsonData=e[2].data.data.form}))},onSetting:function(t){var e=this;this.visible=!0,t.id?(this.title="编辑",this.record=t,this.$nextTick((function(){e.$refs.form.reset();var a={};for(var n in e.$refs.form.form.formItems)a[n]=t[n];e.$refs.form.setData(a)}))):(this.title="新增",this.record={},this.$nextTick((function(){e.$refs.form.reset();var t=Object.assign(e.record,{});e.$refs.form.setData(t)})))},onOk:function(){var t=this;this.$refs.form.getData().then((function(e){t.loading=!0,e.data=e.data?e.data:{},e._extension=e._extension?e._extension:{};var a=null;t.record.id?(e.id=t.record.id,a=Object(nt["c"])(e)):a=Object(nt["a"])(e),a.then((function(e){var a=e.data;a.status?t.$message.success(a.message):t.$message.error(a.message),t.onClose()})).catch((function(e){t.onClose()}))})).catch((function(t){}))},onDelete:function(t){var e=this;this.$confirm({title:"删除确认",content:"确认要删除接口吗?该操作不可逆,请谨慎操作!",okText:"确认",cancelText:"取消",confirmLoading:this.loading,onOk:function(){e.loading=!0,Object(nt["b"])({ids:[t.id]}).then((function(t){e.$message.success(t.data.message),e.onClose()})).catch((function(){e.onClose()}))}})},onClose:function(){this.init(),this.visible=!1,this.loading=!1,this.$refs.form.reset(),this.$emit("refresh",{})},onSearch:function(t){this.application_list=this.datas.filter((function(e){return-1!==e.name.indexOf(t)||-1!==e.title.indexOf(t)}))},onChange:function(t){var e=this;this.value=t.target.value,"all"!==this.value?this.application_list=this.datas.filter((function(t){return t.type==e.value})):this.application_list=this.datas.filter((function(t){return t}))}}},mt=ft,gt=(a("70e3"),Object(S["a"])(mt,lt,ut,!1,null,"9e9eeeb6",null)),vt=gt.exports,bt=vt,yt=function(){var t=this,e=t._self._c;return e("TreeViews",{attrs:{header:!1,"tree-data":t.dictTree,selectedKeys:t.keys,expandedKeys:t.expandedKeys,data:t.params},on:{"update:selectedKeys":function(e){t.keys=e},"update:selected-keys":function(e){t.keys=e},"update:expandedKeys":function(e){t.expandedKeys=e},"update:expanded-keys":function(e){t.expandedKeys=e},"on-tree-select":t.onTreeSelect,"on-back":t.onBack}},[e("template",{slot:"search"},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.dictTree,placeholder:"请选择搜索站点",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef,n=a.title.indexOf(t)>-1||a.title.toLowerCase().indexOf(t)>-1;return n=n||a.name.indexOf(t)>-1||a.name.toLowerCase().indexOf(t)>-1,n}},on:{change:t.handleChanges},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),e("template",{slot:"content"},[e(t.route,{key:t.key,ref:"component",tag:"component",attrs:{params:t.params},on:{event:t.event}})],1)],2)},_t=[],wt=a("fa53"),kt=a("8ceb"),Ot=function(){var t=this,e=this,a=e._self._c;return a("div",{staticStyle:{width:"100%",padding:"5px 0px"}},[a("div",{staticStyle:{width:"100%",padding:"5px 0px"}},[a("a-space",[a("a-dropdown-button",{directives:[{name:"auth",rawName:"v-auth",value:"dict.add",expression:"`dict.add`"}],on:{click:function(t){return e.onAdd()}}},[e._v("添加字典")]),a("a-button-group",[a("a-button",{directives:[{name:"auth",rawName:"v-auth",value:"dict.delete",expression:"`dict.delete`"}],attrs:{disabled:!e.selectedRows.length},on:{click:e.onDelete}},[e._v("删除")])],1),a("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入",allowClear:""},on:{search:e.onSearch,change:e.onSearchChange},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1)],1),a("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"dict.list",expression:"`dict.list`"}],attrs:{loading:e.loading,columns:e.columns,dataSource:e.data,selectedRows:e.selectedRows,rowKey:"id",pagination:!1},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t},clear:e.onClear},scopedSlots:e._u([{key:"_title",fn:function(t){var n=t.record;return a("span",{},[a("a",{directives:[{name:"auth",rawName:"v-auth",value:"dict.edit",expression:"`dict.edit`"}],on:{click:function(t){return e.onEdit(n)}}},[e._v(e._s(n.title))])])}},{key:"action",fn:function(t){var n=t.record;return a("span",{},[a("a-tooltip",[a("template",{slot:"title"},[e._v(" 删除 ")]),a("a",{on:{click:function(t){return e.onDelete(n)}}},[a("a-icon",{attrs:{type:"delete"}})],1)],2)],1)}}])}),a("a-modal",{attrs:{title:e.title,maskClosable:!1,"ok-text":"确认","cancel-text":"取消",centered:"",width:"45%",confirmLoading:e.okloading,"z-index":1002},on:{ok:e.onOk,cancel:function(){t.$refs.form.reset(),e.visible=!1}},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("k-form-build",{ref:"form",attrs:{value:e.jsonData,dynamicData:e.dynamicData}})],1)],1)},xt=[],jt={name:"dict-map-list",components:{StandardTable:F["a"]},props:{params:{type:Object},event:{type:Function}},data:function(){return{loading:!1,okloading:!1,keyword:null,visible:!1,jsonData:{},data:[],oldData:[],currData:{},selectedRows:[],searchForm:{},labelCol:{span:5},wrapperCol:{span:18,offset:1},title:"",commit:void 0,columns:[{title:"标题",dataIndex:"title",scopedSlots:{customRender:"_title"}},{title:"名称",dataIndex:"name"},{title:"操作",scopedSlots:{customRender:"action"},align:"center"}]}},computed:{dynamicData:function(){return{}}},created:function(){this.init()},authorize:{onAdd:"dict.add",onEdit:"dict.edit",onDelete:"dict.delete"},methods:{init:function(){var t=this;this.loading=!0,Promise.all([Object(kt["d"])({parent:this.params.id}),Object(P["b"])({name:"dictmap_add"})]).then((function(e){t.loading=!1,t.data=e[0].data.data,t.oldData=t.data,t.jsonData=e[1].data.data.form})).catch((function(e){t.loading=!1}))},onOk:function(){var t=this;this.$refs.form.getData().then((function(e){t.okloading=!0,t.params.id&&(e.parent=t.params.id),t.currData.id&&(e.id=t.currData.id),t.commit(e).then((function(){t.init(),t.$emit("event",{method:"onRefresh"}),t.visible=!1,t.okloading=!1})).catch((function(e){t.visible=!1,t.okloading=!1}))}))},onAdd:function(){var t=this;this.commit=kt["a"],this.visible=!0,this.$nextTick((function(){t.$refs.form.reset()}))},onEdit:function(t){var e=this;this.commit=kt["c"],this.visible=!0,this.currData=t,this.$nextTick((function(){e.$refs.form.reset(),e.$refs.form.setData({title:t.title,name:t.name,color:t.color})}))},onClear:function(){this.selectedRows=[]},onSearch:function(t){t&&(this.data=this.oldData.filter((function(e){var a=e.title.indexOf(t)>-1||e.title.toLowerCase().indexOf(t)>-1;return a=a||e.name.indexOf(t)>-1||e.name.toLowerCase().indexOf(t)>-1,a})))},onSearchChange:function(){this.keyword||(this.data=this.oldData)},onDelete:function(t){var e=this,a=[];a=t.id?[t.id]:e.selectedRows.map((function(t){return t.id})),this.$confirm({title:"确定要删除此字典吗?",content:"该操作不可逆 !请谨慎操作 !",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){Object(kt["b"])({ids:a}).then((function(t){e.init(),e.$emit("event",{method:"onRefresh"}),e.visible=!1,e.okloading=!1})).catch((function(t){e.visible=!1,e.okloading=!1}))},onCancel:function(){}})}}},St=jt,Ct=Object(S["a"])(St,Ot,xt,!1,null,null,null),Rt=Ct.exports,Dt={name:"dict-map",components:{TreeViews:wt["a"],DictMapList:Rt},data:function(){return{loading:!1,key:null,keys:[],dictTree:[],dictList:[],expandedKeys:[],params:{},title:"",route:void 0,currData:{},selectedRows:[]}},created:function(){this.init()},watch:{},computed:{},methods:{init:function(){var t=this;Promise.all([Object(kt["e"])()]).then((function(e){t.dictTree=e[0].data.data,t.route="dict-map-list",t.$nextTick((function(){t.expandedKeys=t.dictTree.map((function(t){return t.id}))}))}))},onBack:function(){},onRefresh:function(){this.init()},event:function(t){var e=t.method,a=t.params;this[e]&&"function"===typeof this[e]&&this[e](a)},handleChanges:function(t,e,a){this.currData=a.triggerNode.$options.propsData.dataRef,this.key=this.currData.id,this.keys=[this.key],this.params.id=this.currData.id},onTreeSelect:function(t,e){e.selected?(this.currData=e.node.$options.propsData.dataRef,this.key=this.currData.id,this.keys=[this.key],this.params.id=this.currData.id):(this.currData={},this.key="",this.keys=[],this.params.id=void 0)},onClear:function(){},onSelectChange:function(){},deleteRecord:function(){}}},zt=Dt,$t=Object(S["a"])(zt,yt,_t,!1,null,null,null),Tt=$t.exports,Ft=Tt,Pt=function(){var t=this,e=t._self._c;return e("div",[e("a-menu",{staticStyle:{"margin-bottom":"20px"},attrs:{mode:"horizontal"},on:{click:t.onMenuItem},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}},t._l(t.routers,(function(a){return e("a-menu-item",{key:a.route},[e("a-icon",{attrs:{type:"unordered-list"}}),t._v(" "+t._s(a.title)+" ")],1)})),1),e("page-toggle-transition",{attrs:{disabled:t.animate.disabled,animate:t.animate.name,direction:t.animate.direction}},[e(t.route,{ref:"component",tag:"component",staticStyle:{background:"none"},attrs:{params:t.params},on:{event:t.event}})],1)],1)},Et=[],Lt=function(){var t=this,e=t._self._c;return e("div",{ref:"body",staticClass:"body"},[e("a-form-model",{ref:"ruleForm",staticClass:"form-form",attrs:{model:t.ruleForm,rules:t.rules,"label-col":{span:8},"wrapper-col":{span:16}}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"表单标题",prop:"title"}},[e("a-input",{attrs:{placeholder:"请输入表单标题!",allowClear:""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"表单名称",prop:"name"}},[e("a-input",{attrs:{placeholder:"请输入表单名称!",allowClear:""},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-model-item",{attrs:{label:"是否主表","label-col":{span:12},"wrapper-col":{span:12}}},[e("a-switch",{model:{value:t.ruleForm.main,callback:function(e){t.$set(t.ruleForm,"main",e)},expression:"ruleForm.main"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-form-model-item",{attrs:{label:"表单分类"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.channelData,placeholder:"请选择表单分类",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.ruleForm.parent,callback:function(e){t.$set(t.ruleForm,"parent",e)},expression:"ruleForm.parent"}})],1)],1)],1)],1),e("k-form-design",{ref:"kfd",attrs:{title:"表单编辑",toolbarsTop:!1,showToolbarsText:!0,value:t.jsonData,toolbars:["preview","save","importJson","exportJson","exportCode","reset"],showHead:!1},on:{save:t.handleSave}})],1)},It=[],At={props:{params:{type:Object}},data:function(){return{dynamicData:{},jsonData:{},ruleForm:{name:void 0,title:void 0,main:!1,parent:void 0},rules:{title:[{required:!0,message:"请输入表单标题"}],name:[{required:!0,message:"请输入表单名称"},{pattern:"^[a-zA-Z][a-zA-Z0-9_]*$",message:"请输入字母开头包括数字、下划线的字符串"}]},formTypeList:[],color:"#1890ff",methodss:Function,channelData:[]}},mounted:function(){this.$refs.body.style.setProperty("--theme",this.color),void 0!=this.params.id?(this.jsonData=this.params.form,this.ruleForm=this.params,this.$refs.kfd.handleSetData(this.jsonData),this.methodss=P["e"]):this.methodss=P["d"]},created:function(){var t=this;Object(kt["e"])({name:"FormsType"}).then((function(e){t.channelData=e.data.data})).catch((function(t){}))},methods:{changeselect:function(){},handleSave:function(t){var e=this;this.$refs.ruleForm.validate((function(a){if(a){var n={id:e.ruleForm.id,name:e.ruleForm.name,title:e.ruleForm.title,main:e.ruleForm.main,parent:e.ruleForm.parent,form:JSON.parse(t)};e.methodss(n).then((function(){e.$message.success("操作成功！"),e.back()})).cacth((function(t){}))}}))},back:function(){this.$emit("event",{method:"onLink",params:{route:"forms-list",params:Object.assign({},{pagination:this.params.pagination,searchForm:this.searchForm})}})}}},Kt=At,Mt=(a("2eb4"),a("9b5b"),Object(S["a"])(Kt,Lt,It,!1,null,"15bcad2e",null)),Nt=Mt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",{ref:"body",staticClass:"body"},[e("a-form-model",{ref:"ruleForm",staticClass:"form-form",attrs:{model:t.ruleForm,rules:t.rules,"label-col":{span:8},"wrapper-col":{span:16}}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"表单标题",prop:"title"}},[e("a-input",{attrs:{placeholder:"请输入表单标题!",allowClear:""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"表单名称",prop:"name"}},[e("a-input",{attrs:{placeholder:"请输入表单名称!",allowClear:""},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-model-item",{attrs:{label:"是否主表","label-col":{span:12},"wrapper-col":{span:12}}},[e("a-switch",{model:{value:t.ruleForm.main,callback:function(e){t.$set(t.ruleForm,"main",e)},expression:"ruleForm.main"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-form-model-item",{attrs:{label:"表单分类"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.channelData,placeholder:"请选择表单分类",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.ruleForm.parent,callback:function(e){t.$set(t.ruleForm,"parent",e)},expression:"ruleForm.parent"}})],1)],1)],1)],1),e("k-form-design",{ref:"kfd",attrs:{title:"表单编辑",toolbarsTop:!1,showToolbarsText:!0,value:t.jsonData,toolbars:["preview","save","importJson","exportJson","exportCode","reset"],showHead:!1},on:{save:t.handleSave}})],1)},qt=[],Ut={props:{params:{type:Object}},data:function(){return{dynamicData:{},jsonData:{},ruleForm:{name:void 0,title:void 0,main:!1,parent:void 0},rules:{title:[{required:!0,message:"请输入表单标题"}],name:[{required:!0,message:"请输入表单名称"},{pattern:"^[a-zA-Z][a-zA-Z0-9_]*$",message:"请输入字母开头包括数字、下划线的字符串"}]},formTypeList:[],color:"#1890ff",methodss:Function,channelData:[]}},mounted:function(){this.$refs.body.style.setProperty("--theme",this.color),void 0!=this.params.id?(this.jsonData=this.params.form,this.ruleForm=this.params,this.$refs.kfd.handleSetData(this.jsonData),this.methodss=P["i"]):this.methodss=P["h"]},created:function(){var t=this;Object(kt["e"])({name:"FormsType"}).then((function(e){t.channelData=e.data.data})).catch((function(t){}))},methods:{changeselect:function(){},handleSave:function(t){var e=this;this.$refs.ruleForm.validate((function(a){if(a){var n={id:e.ruleForm.id,name:e.ruleForm.name,title:e.ruleForm.title,main:e.ruleForm.main,parent:e.ruleForm.parent,form:JSON.parse(t)};e.methodss(n).then((function(){e.$message.success("操作成功！"),e.back()})).cacth((function(t){}))}}))},back:function(){this.$emit("event",{method:"onLink",params:{route:"forms-system-list",params:Object.assign({},{pagination:this.params.pagination,searchForm:this.searchForm})}})}}},Wt=Ut,Ht=(a("0804"),a("9b43"),Object(S["a"])(Wt,Bt,qt,!1,null,"38f861d6",null)),Jt=Ht.exports,Vt=function(){var t=this,e=t._self._c;return e("div",[e("a-form-model",{ref:"searchForm",attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,model:t.searchForm}},[e("a-row",[e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("a-form-model-item",{attrs:{label:"关键字"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:""},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1)],1),e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("a-form-model-item",{attrs:{label:"表单类型"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",allowClear:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.channelData,placeholder:"请选择表单分类",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.searchForm.parent,callback:function(e){t.$set(t.searchForm,"parent",e)},expression:"searchForm.parent"}})],1)],1),t.advanced?void 0:t._e(),e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("div",{staticStyle:{"padding-left":"50px","margin-top":"3px"}},[e("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.onSearch}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.onReset}},[t._v("重置")])],1)])],2)],1),e("div",[e("a-space",{staticClass:"operator"},[e("a-button",{directives:[{name:"auth",rawName:"v-auth",value:"forms.user.add",expression:"`forms.user.add`"}],attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("新建")]),e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",{directives:[{name:"auth",rawName:"v-auth",value:"forms.delete",expression:"`forms.delete`"}],on:{click:function(e){return t.deleteRecord(t.selectedRowKeys)}}},[t._v("批量删除")])],1),e("a-button",[t._v(" 更多操作 "),e("a-icon",{attrs:{type:"down"}})],1)],1)],1),e("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"forms.user.paginate",expression:"`forms.user.paginate`"}],attrs:{loading:t.loading,columns:t.columns,current:t.pagination.page,pageSize:t.pagination.per_page,dataSource:t.data.items,selectedRows:t.selectedRows,rowKey:"id",pagination:!1},on:{"update:selectedRows":function(e){t.selectedRows=e},"update:selected-rows":function(e){t.selectedRows=e},clear:t.onClear,change:t.onChange,selectedRowChange:t.onSelectChange},scopedSlots:t._u([{key:"action",fn:function(a){var n=a.record;return e("span",{},[e("a-tooltip",[e("template",{slot:"title"},[t._v(" 删除 ")]),e("a",{directives:[{name:"auth",rawName:"v-auth",value:"forms.delete",expression:"`forms.delete`"}],on:{click:function(e){return t.deleteRecord(n.id)}}},[e("a-icon",{attrs:{type:"delete"}})],1)],2)],1)}},{key:"titles",fn:function(a){var n=a.record;return e("span",{},[e("a",{directives:[{name:"auth",rawName:"v-auth",value:"forms.user.edit",expression:"`forms.user.edit`"}],staticStyle:{"margin-right":"8px",color:"#1890ff"},on:{click:function(e){return t.onEdit(n)}}},[t._v(" "+t._s(n.title))])])}}])}),e("a-pagination",{staticStyle:{"text-align":"right",padding:"15px 0"},attrs:{size:"small",current:t.pagination.page,defaultPageSize:t.pagination.per_page,pageSizeOptions:["10","20","30","40"],total:t.data.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(t){return"共 ".concat(t," 条")}},on:{change:t.onChangePage,showSizeChange:t.onChangePage}})],1)],1)},Zt=[],Gt={name:"FormsList",components:{StandardTable:F["a"]},props:{params:{type:Object,default:function(){return{}}},event:{type:Function}},data:function(){return{labelCol:{span:5},wrapperCol:{span:18,offset:1},title:null,visible:!1,loading:!0,advanced:!1,columns:[{title:"表单标题",dataIndex:"title",scopedSlots:{customRender:"titles"}},{title:"表单名称",dataIndex:"name"},{title:"是否主表",dataIndex:"main",customRender:function(t){return t?"是":"否"},align:"center"},{title:"是否创建",dataIndex:"create",customRender:function(t){return t?"是":"否"},align:"center"},{title:"是否同步",dataIndex:"sync",customRender:function(t){return t?"是":"否"},align:"center"},{title:"操作",scopedSlots:{customRender:"action"},align:"center"}],dataSource:[],dynamicData:{},jsonData:{},selectedRows:[],data:{},currRecord:null,commit:null,searchForm:{},searchValues:{},selectedRowKeys:[],channelData:[]}},computed:{pagination:{get:function(){return{page:this.data.page||1,per_page:this.data.per_page||10}},set:function(t){this.data.page=t.page,this.data.per_page=t.per_page}}},created:function(){this.init()},authorize:{onAdd:"forms.user.add",onEdit:"forms.user.edit",deleteRecord:"forms.delete"},methods:{init:function(){var t=this;this.pagination=this.params.pagination||this.pagination,this.searchForm=this.params.searchForm||this.searchForm,Object(kt["e"])({name:"FormsType"}).then((function(e){t.channelData=e.data.data})).catch((function(t){})),this.paginate()},onChangePage:function(t,e){this.loading=!0,this.pagination.page=t,this.pagination.per_page=e,this.paginate()},paginate:function(){var t=this;Object(P["g"])(Object.assign(this.pagination,this.searchForm)).then((function(e){t.loading=!1,t.data=e.data.data})).catch((function(t){}))},onSearch:function(){this.pagination={per_page:10,page:1},this.loading=!0,this.paginate()},onReset:function(){this.loading=!0,this.searchForm={},this.pagination={per_page:10,page:1},this.paginate()},onEdit:function(t){t?this.$emit("event",{method:"onLink",params:{route:"forms-details",params:Object.assign({},t,{pagination:this.pagination,searchForm:this.searchForm})}}):this.$emit("event",{method:"onLink",params:{route:"forms-details",params:{id:void 0,pagination:this.pagination,searchForm:this.searchForm}}})},onAdd:function(){this.onEdit()},deleteRecord:function(t){var e=this,a={};a=t instanceof Array?{ids:t}:{ids:[t]},t.length?this.$nextTick((function(){e.$confirm({title:"删除确认",content:"确认要删除此表单吗!该操作不可逆,请谨慎操作!",okText:"确认",cancelText:"取消",onOk:function(){Object(P["a"])(a).then((function(t){e.loading=!0,e.paginate(),e.$message.success(t.data.message)})).catch((function(t){e.$message.success(t.response.data.message)}))},onCancel:function(){}})})):this.$message.warning("请选择至少一条数据！")},onSelectChange:function(t){this.selectedRowKeys=t},toggleAdvanced:function(){this.advanced=!this.advanced},onClear:function(){this.$message.info("您清空了勾选的所有行")},onChange:function(t){this.$message.info("表格状态改变了",t)}}},Yt=Gt,Xt=(a("a4ca"),Object(S["a"])(Yt,Vt,Zt,!1,null,"31a916f2",null)),Qt=Xt.exports,te=function(){var t=this,e=t._self._c;return e("div",[e("a-form-model",{ref:"searchForm",attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,model:t.searchForm}},[e("a-row",[e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("a-form-model-item",{attrs:{label:"关键字"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:""},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1)],1),e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("a-form-model-item",{attrs:{label:"表单类型"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",allowClear:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.channelData,placeholder:"请选择表单分类",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.searchForm.parent,callback:function(e){t.$set(t.searchForm,"parent",e)},expression:"searchForm.parent"}})],1)],1),t.advanced?void 0:t._e(),e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("div",{staticStyle:{"padding-left":"50px","margin-top":"3px"}},[e("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.onSearch}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.onReset}},[t._v("重置")])],1)])],2)],1),e("div",[e("a-space",{staticClass:"operator"},[e("a-button",{directives:[{name:"auth",rawName:"v-auth",value:"forms.system.add",expression:"`forms.system.add`"}],attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("新建")]),e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",{directives:[{name:"auth",rawName:"v-auth",value:"forms.delete",expression:"`forms.delete`"}],on:{click:function(e){return t.deleteRecord(t.selectedRowKeys)}}},[t._v("批量删除")])],1),e("a-button",[t._v(" 更多操作 "),e("a-icon",{attrs:{type:"down"}})],1)],1)],1),e("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"forms.system.paginate",expression:"`forms.system.paginate`"}],attrs:{loading:t.loading,columns:t.columns,dataSource:t.data.items,selectedRows:t.selectedRows,rowKey:"id",pagination:!1},on:{"update:selectedRows":function(e){t.selectedRows=e},"update:selected-rows":function(e){t.selectedRows=e},clear:t.onClear,change:t.onChange,selectedRowChange:t.onSelectChange},scopedSlots:t._u([{key:"action",fn:function(a){var n=a.record;return e("span",{},[e("a-tooltip",[e("template",{slot:"title"},[t._v(" 删除 ")]),e("a",{directives:[{name:"auth",rawName:"v-auth",value:"forms.delete",expression:"`forms.delete`"}],on:{click:function(e){return t.deleteRecord(n.id)}}},[e("a-icon",{attrs:{type:"delete"}})],1)],2)],1)}},{key:"titles",fn:function(a){var n=a.record;return e("span",{},[e("a",{directives:[{name:"auth",rawName:"v-auth",value:"forms.system.edit",expression:"`forms.system.edit`"}],staticStyle:{"margin-right":"8px",color:"#1890ff"},on:{click:function(e){return t.onEdit(n)}}},[t._v(" "+t._s(n.title))])])}}])}),e("a-pagination",{staticStyle:{"text-align":"right",padding:"15px 0"},attrs:{size:"small",current:t.pagination.page,defaultPageSize:t.pagination.per_page,pageSizeOptions:["10","20","30","40"],total:t.data.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(t){return"共 ".concat(t," 条")}},on:{change:t.onChangePage,showSizeChange:t.onChangePage}})],1)],1)},ee=[],ae={name:"FormsList",components:{StandardTable:F["a"]},props:{params:{type:Object,default:function(){return{}}},event:{type:Function}},data:function(){return{labelCol:{span:5},wrapperCol:{span:18,offset:1},title:null,visible:!1,loading:!0,advanced:!1,columns:[{title:"表单标题",dataIndex:"title",scopedSlots:{customRender:"titles"}},{title:"表单名称",dataIndex:"name"},{title:"是否主表",dataIndex:"main",customRender:function(t){return t?"是":"否"},align:"center"},{title:"是否创建",dataIndex:"create",customRender:function(t){return t?"是":"否"},align:"center"},{title:"是否同步",dataIndex:"sync",customRender:function(t){return t?"是":"否"},align:"center"},{title:"操作",scopedSlots:{customRender:"action"},align:"center"}],dataSource:[],dynamicData:{},jsonData:{},selectedRows:[],data:{total:0,items:[]},currRecord:null,commit:null,searchForm:{},searchValues:{},selectedRowKeys:[],channelData:[]}},computed:{pagination:{get:function(){return{page:this.data.page||1,per_page:this.data.per_page||10}},set:function(t){this.data.page=t.page,this.data.per_page=t.per_page}}},created:function(){this.init()},authorize:{onAdd:"forms.system.add",onEdit:"forms.system.edit",deleteRecord:"forms.delete"},methods:{init:function(){var t=this;this.pagination=this.params.pagination||this.pagination,this.searchForm=this.params.searchForm||this.searchForm,Object(kt["e"])({name:"FormsType"}).then((function(e){t.channelData=e.data.data})).catch((function(t){})),this.paginate()},onChangePage:function(t,e){this.loading=!0,this.pagination.page=t,this.pagination.per_page=e,this.paginate()},paginate:function(){var t=this;Object(P["j"])(Object.assign(this.pagination,this.searchForm)).then((function(e){t.loading=!1,t.data=e.data.data})).catch((function(t){}))},onSearch:function(){this.pagination={per_page:10,page:1},this.loading=!0,this.paginate()},onReset:function(){this.loading=!0,this.searchForm={},this.pagination={per_page:10,page:1},this.paginate()},onEdit:function(t){t?this.$emit("event",{method:"onLink",params:{route:"forms-system-details",params:Object.assign({},t,{pagination:this.pagination,searchForm:this.searchForm})}}):this.$emit("event",{method:"onLink",params:{route:"forms-system-details",params:{id:void 0,pagination:this.pagination,searchForm:this.searchForm}}})},onAdd:function(){this.onEdit()},deleteRecord:function(t){var e=this,a={};a=t instanceof Array?{ids:t}:{ids:[t]},t.length?this.$nextTick((function(){e.$confirm({title:"删除确认",content:"确认要删除此表单吗!该操作不可逆,请谨慎操作!",okText:"确认",cancelText:"取消",onOk:function(){Object(P["a"])(a).then((function(t){e.loading=!0,e.paginate(),e.$message.success(t.data.message)})).catch((function(t){e.$message.success(t.response.data.message)}))},onCancel:function(){}})})):this.$message.warning("请选择至少一条数据！")},onSelectChange:function(t){this.selectedRowKeys=t},toggleAdvanced:function(){this.advanced=!this.advanced},onClear:function(){this.$message.info("您清空了勾选的所有行")},onChange:function(t){this.$message.info("表格状态改变了",t)}}},ne=ae,ie=(a("a7ee"),Object(S["a"])(ne,te,ee,!1,null,"ca595a86",null)),oe=ie.exports,re=function(){var t=this,e=t._self._c;return e("div",[e("a-form-model",{ref:"searchForm",attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,model:t.searchForm}},[e("a-row",[e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("a-form-model-item",{attrs:{label:"关键字"}},[e("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:""},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1)],1),e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("a-form-model-item",{attrs:{label:"表单类型"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"",allowClear:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.channelData,placeholder:"请选择表单分类",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.searchForm.parent,callback:function(e){t.$set(t.searchForm,"parent",e)},expression:"searchForm.parent"}})],1)],1),t.advanced?void 0:t._e(),e("a-col",{attrs:{lg:8,md:12,sm:24}},[e("div",{staticStyle:{"padding-left":"50px","margin-top":"3px"}},[e("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.onSearch}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.onReset}},[t._v("重置")])],1)])],2)],1),e("div",[e("a-space",{staticClass:"operator"},[e("a-button",{directives:[{name:"auth",rawName:"v-auth",value:"forms.workflow.add",expression:"`forms.workflow.add`"}],attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("新建")]),e("a-dropdown",[e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",{directives:[{name:"auth",rawName:"v-auth",value:"forms.delete",expression:"`forms.delete`"}],on:{click:function(e){return t.deleteRecord(t.selectedRowKeys)}}},[t._v("批量删除")])],1),e("a-button",[t._v(" 更多操作 "),e("a-icon",{attrs:{type:"down"}})],1)],1)],1),e("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"forms.workflow.paginate",expression:"`forms.workflow.paginate`"}],attrs:{loading:t.loading,columns:t.columns,dataSource:t.data.items,selectedRows:t.selectedRows,rowKey:"id",pagination:!1},on:{"update:selectedRows":function(e){t.selectedRows=e},"update:selected-rows":function(e){t.selectedRows=e},clear:t.onClear,change:t.onChange,selectedRowChange:t.onSelectChange},scopedSlots:t._u([{key:"action",fn:function(a){var n=a.record;return e("span",{},[e("a-tooltip",[e("template",{slot:"title"},[t._v(" 删除 ")]),e("a",{directives:[{name:"auth",rawName:"v-auth",value:"forms.delete",expression:"`forms.delete`"}],on:{click:function(e){return t.deleteRecord(n.id)}}},[e("a-icon",{attrs:{type:"delete"}})],1)],2)],1)}},{key:"titles",fn:function(a){var n=a.record;return e("span",{},[e("a",{directives:[{name:"auth",rawName:"v-auth",value:"forms.workflow.edit",expression:"`forms.workflow.edit`"}],staticStyle:{"margin-right":"8px",color:"#1890ff"},on:{click:function(e){return t.onEdit(n)}}},[t._v(" "+t._s(n.title))])])}}])}),e("a-pagination",{staticStyle:{"text-align":"right",padding:"15px 0"},attrs:{size:"small",current:t.pagination.page,defaultPageSize:t.pagination.per_page,pageSizeOptions:["10","20","30","40"],total:t.data.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(t){return"共 ".concat(t," 条")}},on:{change:t.onChangePage,showSizeChange:t.onChangePage}})],1)],1)},se=[],ce={name:"FormsWorkflow",components:{StandardTable:F["a"]},props:{params:{type:Object,default:function(){return{}}},event:{type:Function}},data:function(){return{labelCol:{span:5},wrapperCol:{span:18,offset:1},title:null,visible:!1,loading:!0,advanced:!1,columns:[{title:"表单标题",dataIndex:"title",scopedSlots:{customRender:"titles"}},{title:"表单名称",dataIndex:"name"},{title:"是否主表",dataIndex:"main",customRender:function(t){return t?"是":"否"},align:"center"},{title:"是否创建",dataIndex:"create",customRender:function(t){return t?"是":"否"},align:"center"},{title:"是否同步",dataIndex:"sync",customRender:function(t){return t?"是":"否"},align:"center"},{title:"操作",scopedSlots:{customRender:"action"},align:"center"}],dataSource:[],dynamicData:{},jsonData:{},selectedRows:[],data:{total:0,items:[]},currRecord:null,commit:null,searchForm:{},searchValues:{},selectedRowKeys:[],channelData:[]}},computed:{pagination:{get:function(){return{page:this.data.page||1,per_page:this.data.per_page||10}},set:function(t){this.data.page=t.page,this.data.per_page=t.per_page}}},created:function(){this.init()},authorize:{onAdd:"forms.workflow.add",onEdit:"forms.workflow.edit",deleteRecord:"forms.delete"},methods:{init:function(){var t=this;this.pagination=this.params.pagination||this.pagination,this.searchForm=this.params.searchForm||this.searchForm,Object(kt["e"])({name:"FormsType"}).then((function(e){t.channelData=e.data.data})).catch((function(t){})),this.paginate()},onChangePage:function(t,e){this.loading=!0,this.pagination.page=t,this.pagination.per_page=e,this.paginate()},paginate:function(){var t=this;Object(P["m"])(Object.assign(this.pagination,this.searchForm)).then((function(e){t.loading=!1,t.data=e.data.data})).catch((function(t){}))},onSearch:function(){this.pagination={per_page:10,page:1},this.loading=!0,this.paginate()},onReset:function(){this.loading=!0,this.searchForm={},this.pagination={per_page:10,page:1},this.paginate()},onEdit:function(t){t?this.$emit("event",{method:"onLink",params:{route:"Workflow-details",params:Object.assign({},t,{pagination:this.pagination,searchForm:this.searchForm})}}):this.$emit("event",{method:"onLink",params:{route:"Workflow-details",params:{id:void 0,pagination:this.pagination,searchForm:this.searchForm}}})},onAdd:function(){this.onEdit()},deleteRecord:function(t){var e=this,a={};a=t instanceof Array?{ids:t}:{ids:[t]},t.length?this.$nextTick((function(){e.$confirm({title:"删除确认",content:"确认要删除此表单吗!该操作不可逆,请谨慎操作!",okText:"确认",cancelText:"取消",onOk:function(){Object(P["a"])(a).then((function(t){e.loading=!0,e.paginate(),e.$message.success(t.data.message)})).catch((function(t){e.$message.success(t.response.data.message)}))},onCancel:function(){}})})):this.$message.warning("请选择至少一条数据！")},onSelectChange:function(t){this.selectedRowKeys=t},toggleAdvanced:function(){this.advanced=!this.advanced},onClear:function(){this.$message.info("您清空了勾选的所有行")},onChange:function(t){this.$message.info("表格状态改变了",t)}}},le=ce,ue=(a("f171"),Object(S["a"])(le,re,se,!1,null,"640c62f2",null)),de=ue.exports,pe=function(){var t=this,e=t._self._c;return e("div",{ref:"body",staticClass:"body"},[e("a-form-model",{ref:"ruleForm",staticClass:"form-form",attrs:{model:t.ruleForm,rules:t.rules,"label-col":{span:8},"wrapper-col":{span:16}}},[e("a-row",{attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"表单标题",prop:"title"}},[e("a-input",{attrs:{placeholder:"请输入表单标题!",allowClear:""},model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-model-item",{attrs:{label:"表单名称",prop:"name"}},[e("a-input",{attrs:{placeholder:"请输入表单名称!",allowClear:""},model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1)],1),e("a-col",{attrs:{span:4}},[e("a-form-model-item",{attrs:{label:"是否主表","label-col":{span:12},"wrapper-col":{span:12}}},[e("a-switch",{model:{value:t.ruleForm.main,callback:function(e){t.$set(t.ruleForm,"main",e)},expression:"ruleForm.main"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-form-model-item",{attrs:{label:"表单分类"}},[e("a-tree-select",{staticStyle:{width:"100%"},attrs:{"show-search":"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:t.channelData,placeholder:"请选择表单分类",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:t.ruleForm.parent,callback:function(e){t.$set(t.ruleForm,"parent",e)},expression:"ruleForm.parent"}})],1)],1)],1)],1),e("k-form-design",{ref:"kfd",attrs:{title:"表单编辑",toolbarsTop:!1,showToolbarsText:!0,value:t.jsonData,toolbars:["preview","save","importJson","exportJson","exportCode","reset"],showHead:!1},on:{save:t.handleSave}})],1)},he=[],fe={props:{params:{type:Object}},data:function(){return{dynamicData:{},jsonData:{},ruleForm:{name:void 0,title:void 0,main:!1,parent:void 0},rules:{title:[{required:!0,message:"请输入表单标题"}],name:[{required:!0,message:"请输入表单名称"},{pattern:"^[a-zA-Z][a-zA-Z0-9_]*$",message:"请输入字母开头包括数字、下划线的字符串"}]},formTypeList:[],color:"#1890ff",methodss:Function,channelData:[]}},mounted:function(){this.$refs.body.style.setProperty("--theme",this.color),void 0!=this.params.id?(this.jsonData=this.params.form,this.ruleForm=this.params,this.$refs.kfd.handleSetData(this.jsonData),this.methodss=P["l"]):this.methodss=P["k"]},created:function(){var t=this;Object(kt["e"])({name:"FormsType"}).then((function(e){t.channelData=e.data.data})).catch((function(t){}))},methods:{changeselect:function(){},handleSave:function(t){var e=this;this.$refs.ruleForm.validate((function(a){if(a){var n={id:e.ruleForm.id,name:e.ruleForm.name,title:e.ruleForm.title,main:e.ruleForm.main,parent:e.ruleForm.parent,form:JSON.parse(t)};e.methodss(n).then((function(){e.$message.success("操作成功！"),e.back()})).cacth((function(t){}))}}))},back:function(){this.$emit("event",{method:"onLink",params:{route:"forms-workflow",params:Object.assign({},{pagination:this.params.pagination,searchForm:this.searchForm})}})}}},me=fe,ge=(a("47ac"),a("b6f4"),Object(S["a"])(me,pe,he,!1,null,"ff57765e",null)),ve=ge.exports,be={components:{PageToggleTransition:s["a"],FormsDetails:Nt,FormsList:Qt,FormsSystemList:oe,FormsSystemDetails:Jt,FormsWorkflow:de,WorkflowDetails:ve},props:{id:{type:String},data:{type:Object,default:function(){return{}}}},computed:Object(o["a"])({},Object(r["e"])("setting",["animate"])),data:function(){return{current:["forms-list"],routers:[{route:"forms-list",title:"用户表单列表",meta:{invisible:!this.$auth("forms.user.paginate")}},{route:"forms-system-list",title:"系统表单列表",meta:{invisible:!this.$auth("forms.system.paginate")}},{route:"forms-workflow",title:"流程表单列表",meta:{invisible:!this.$auth("forms.system.paginate")}}],show:!1,loading:!1,route:null,params:{},back:{route:null,params:null}}},created:function(){this.init()},authorize:{},methods:{init:function(){this.route="forms-list"},onLink:function(t){var e=t.route,a=t.params;a.pagination?(this.back.route=this.route,this.back.params=this.params):(this.back.route=null,this.back.params=null),this.route=e,this.params=a},onRefresh:function(){this.$refs.component&&"function"===typeof this.$refs.component.onReset&&this.$refs.component.onReset()},event:function(t){var e=t.method,a=t.params;this[e]&&"function"===typeof this[e]&&this[e](a)},onMenuItem:function(t){this.onLink({route:t.key,params:{}})},onBack:function(){this.back.route&&(this.route=this.back.route)}}},ye=be,_e=Object(S["a"])(ye,Pt,Et,!1,null,null,null),we=_e.exports,ke=we,Oe=function(){var t=this,e=t._self._c;return e("div",[e("a-list",{staticStyle:{margin:"0 -8px"},attrs:{grid:{gutter:24,xl:6,lg:3,md:3,sm:2,xs:1}}},[e("a-list-item",{key:t.index,staticStyle:{padding:"0 8px"}},[e("a-card",{key:t.index,staticStyle:{"text-align":"center"}},[t.$auth("background.upload")?e("a-upload",{directives:[{name:"auth",rawName:"v-auth",value:"background.upload",expression:"`background.upload`"}],attrs:{slot:"cover",accept:"image/*",action:t.action,multiple:"",headers:t.headers},on:{change:t.uploadChange},slot:"cover"},[e("div",{staticStyle:{height:"154px"}},[e("a",[e("a-icon",{staticStyle:{"font-size":"110px",padding:"20px",color:"#cbcbcb"},attrs:{type:"plus"}})],1)])]):t._e(),e("template",{staticClass:"ant-card-actions",slot:"actions"},[e("span",{attrs:{slot:"count"},slot:"count"},[t._v("背景上传")])])],2)],1),t._l(t.records,(function(a,n){return[e("a-list-item",{key:n,staticStyle:{padding:"0 8px"}},[e("a-card",{key:n},[e("img",{staticStyle:{cursor:"pointer"},attrs:{slot:"cover",src:a.url,height:"154"},on:{click:function(e){return t.onClick(n)}},slot:"cover"}),e("template",{staticClass:"ant-card-actions",slot:"actions"},[e("a-popconfirm",{attrs:{slot:"count",title:"确定要删除此背景吗!","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(e){return t.onDelete(a)}},slot:"count"},[e("a-icon",{key:"delete",attrs:{type:"delete"}})],1)],1)],2)],1)]}))],2),e("PicPreview",{attrs:{"file-preview-show":t.previewShow,"img-list":t.preImages,currentIndex:t.currentIndex},on:{close:function(){return t.previewShow=!1}}})],1)},xe=[],je=a("ed4b"),Se=a("cb93"),Ce={components:{PicPreview:Se["a"]},props:{id:{type:String},data:{type:Object,default:function(){return{}}},refresh:{type:Function,default:function(){}}},computed:{preImages:function(){return this.records.map((function(t){return t.url}))},headers:function(){return{Authorization:ht.a.get("Authorization")}}},data:function(){return{action:_["BACKGROUND_UPLOAD"],previewShow:!1,records:[],currentIndex:0}},authorize:{},created:function(){this.onLoad()},methods:{onLoad:function(){var t=this;Object(je["b"])().then((function(e){t.records=e.data.data})).catch((function(t){}))},uploadChange:function(t){"done"==t.file.status&&(t.file.response.status?this.$message.success(t.file.response.message):this.$message.error(t.file.response.message),this.onLoad())},onClick:function(t){this.currentIndex=t,this.previewShow=!0},onDelete:function(t){var e=this,a=[t.id];Object(je["a"])({ids:a}).then((function(t){e.$message.success(t.data.message),e.onLoad()})).catch((function(t){e.$message.error(t)}))}}},Re=Ce,De=(a("9847"),Object(S["a"])(Re,Oe,xe,!1,null,"51d1d8f7",null)),ze=De.exports,$e=ze,Te=function(){var t=this,e=t._self._c;return e("div",[e("a-list",{staticStyle:{margin:"0 -8px"},attrs:{grid:{gutter:24,xl:12,lg:6,md:6,sm:4,xs:2}}},[t.$auth("icon.upload")?e("a-list-item",[e("a-card",{staticStyle:{"text-align":"center"}},[e("a-upload",{directives:[{name:"auth",rawName:"v-auth",value:"icon.upload",expression:"`icon.upload`"}],attrs:{slot:"cover",accept:"image/*",action:t.action,multiple:"",headers:t.headers,showUploadList:!1},on:{change:t.uploadChange},slot:"cover"},[e("div",{staticStyle:{height:"120px"}},[e("a",[e("a-icon",{staticStyle:{"font-size":"50px",padding:"20px",color:"#cbcbcb"},attrs:{type:"plus"}})],1)])]),e("template",{staticClass:"ant-card-actions",slot:"actions"},[e("span",{attrs:{slot:"count"},slot:"count"},[t._v("图标上传")])])],2)],1):t._e(),t._l(t.records,(function(a,n){return[e("a-list-item",{key:n,staticStyle:{padding:"0 8px"}},[e("a-card",{key:n,attrs:{bordered:!1}},[e("img",{staticStyle:{cursor:"pointer"},attrs:{slot:"cover",src:a.url,height:"120"},on:{click:function(e){return t.onClick(n)}},slot:"cover"}),e("template",{staticClass:"ant-card-actions",slot:"actions"},[e("a-popconfirm",{attrs:{slot:"count",title:"确定要删除此背景吗!","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(e){return t.onDelete(a)}},slot:"count"},[e("a-icon",{key:"delete",attrs:{type:"delete"}})],1)],1)],2)],1)]}))],2),e("PicPreview",{attrs:{"file-preview-show":t.previewShow,"img-list":t.preImages,currentIndex:t.currentIndex},on:{close:function(){return t.previewShow=!1}}})],1)},Fe=[],Pe={components:{PicPreview:Se["a"]},props:{id:{type:String},data:{type:Object,default:function(){return{}}},refresh:{type:Function,default:function(){}}},computed:{preImages:function(){return this.records.map((function(t){return t.url}))},headers:function(){return{Authorization:ht.a.get("Authorization")}}},data:function(){return{action:_["ICON_UPLOAD"],previewShow:!1,records:[],currentIndex:0}},authorize:{},created:function(){this.onLoad()},methods:{onLoad:function(){var t=this;Object(dt["b"])().then((function(e){t.records=e.data.data})).catch((function(t){}))},uploadChange:function(t){"done"==t.file.status&&(t.file.response.status?this.$message.success(t.file.response.message):this.$message.error(t.file.response.message)),this.onLoad()},onClick:function(t){this.currentIndex=t,this.previewShow=!0},onDelete:function(t){var e=this,a=[t.id];Object(dt["a"])({ids:a}).then((function(t){e.$message.success(t.data.message),e.onLoad()})).catch((function(t){e.$message.error(t)}))}}},Ee=Pe,Le=(a("8bf5"),Object(S["a"])(Ee,Te,Fe,!1,null,"48ece602",null)),Ie=Le.exports,Ae=Ie,Ke=function(){var t=this,e=t._self._c;return e("div",[e("a-empty",[e("div",{attrs:{slot:"description"},slot:"description"},[e("div",[t._v("模块开发中ing...")])])])],1)},Me=[],Ne={},Be=Object(S["a"])(Ne,Ke,Me,!1,null,null,null),qe=Be.exports,Ue=qe,We=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticStyle:{width:"100%",padding:"5px 0px"}},[e("a-space",[e("a-dropdown-button",{directives:[{name:"auth",rawName:"v-auth",value:"user.add",expression:"`user.add`"}],on:{click:function(e){return t.onAdd()}}},[t._v(" 添加 ")]),e("a-dropdown-button",{directives:[{name:"auth",rawName:"v-auth",value:"user.add",expression:"`user.add`"}],attrs:{disabled:!t.params.id},on:{click:function(e){return t.onEdit()}}},[t._v(" 编辑 ")]),e("a-dropdown-button",{directives:[{name:"auth",rawName:"v-auth",value:"user.add",expression:"`user.add`"}],attrs:{disabled:!t.params.id},on:{click:function(e){return t.copyjiekou()}}},[t._v(" 复制接口 ")]),e("a-button-group",[e("a-button",{attrs:{disabled:!t.params.id},on:{click:t.onDelete}},[t._v("删除")])],1),e("a-button-group",[e("a-button",{attrs:{icon:"redo",loading:t.loading},on:{click:t.refresh}},[t._v("刷新")])],1),e("a-button-group",[e("a-button",{attrs:{icon:"sync",loading:t.loading},on:{click:t.onSync}},[t._v("同步")])],1)],1)],1),e("a-layout",[e("a-layout-sider",{staticStyle:{"background-color":"#000","overflow-y":"auto","max-height":"600px"}},[e("a-menu",{attrs:{mode:"inline","open-keys":t.openKeys,"selected-keys":t.selectedKeys},on:{"update:openKeys":function(e){t.openKeys=e},"update:open-keys":function(e){t.openKeys=e}}},t._l(t.groups,(function(a){return e("a-sub-menu",{key:a.group},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.group))]),t._l(a.record,(function(a){return e("a-menu-item",{key:a.record,on:{click:function(e){return t.onMenuItem(a)}}},[t._v(" "+t._s(a.title||"未分组")+" ")])}))],2)})),1)],1),e("a-layout-content",{staticStyle:{"background-color":"#fff","overflow-y":"auto","max-height":"600px"}},[e("page-toggle-transition",{attrs:{disabled:t.animate.disabled,animate:t.animate.name,direction:t.animate.direction}},[e(t.route,{key:t.componentKey,ref:"component",tag:"component",staticStyle:{width:"100%"},attrs:{params:t.params},on:{event:t.event}})],1)],1)],1)],1)},He=[],Je=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{title:t.title}},[e("a",{attrs:{slot:"extra"},on:{click:t.onSubmit},slot:"extra"},[t._v("保存提交")]),e("a-card-grid",{staticStyle:{width:"100%"}},[e("k-form-build",{ref:"defaultForm",attrs:{value:t.defaultJsonData,dynamicData:t.dynamicData}})],1),e("a-card-grid",{staticStyle:{width:"100%"}},[e("k-form-build",{ref:"infoForm",attrs:{value:t.infoJsonData,dynamicData:t.dynamicData}})],1)],1)},Ve=[],Ze=(a("25f0"),a("f440")),Ge={props:{params:{type:Object},event:{type:Function}},data:function(){return{id:void 0,title:null,loading:!1,defaultJsonData:{},infoJsonData:{},commit:void 0,data:{parnet:{}},types:void 0}},computed:{dynamicData:function(){return{}}},created:function(){this.onLoad()},methods:{onLoad:function(){var t=this;this.id=this.params.data.id,this.data=this.params.data,this.title=this.params.data.id?"编辑":"添加",this.types=!(!this.params.type||"copy"!=this.params.type),this.commit=this.types?Ze["d"]:this.params.data.id?Ze["e"]:Ze["d"];var e=[Object(P["b"])({name:"route_add"}),Object(P["b"])({name:"router_info"})];Promise.all(e).then((function(e){t.defaultJsonData=e[0].data.data.form,t.infoJsonData=e[1].data.data.form,t.id&&t.initData(t.data)})).catch((function(t){}))},onSubmit:function(){var t=this;this.loading=!0,this.$nextTick((function(){Promise.all([t.$refs.defaultForm.getData(),t.$refs.infoForm.getData()]).then((function(e){var a={id:t.types?void 0:t.id||void 0,parent:t.id?t.data.parent.id:void 0};for(var n in e)a=Object.assign(a,e[n],{id:t.types?void 0:t.id||void 0});a["authenticationOptions"]={AuthenticationProviderKey:a["authenticationProviderKey"]},delete a["AuthenticationProviderKey"],t.commit(a).then((function(e){var a=e.data.data;t.$message.success(e.data.message),t.$emit("event",{method:"onEdited",params:a.routeInfo.id}),t.loading=!1})).catch((function(e){t.$message.error(e.response.data.message),t.loading=!1}))})).catch((function(t){}))}))},initData:function(t){var e=this;this.$nextTick((function(){e.$refs.defaultForm.reset(),e.$refs.infoForm.reset(),t.parent.downstreamHostAndPorts=t.parent.downstreamHostAndPorts.map((function(t){return{host:t.host,port:t.port.toString()}})),e.setData(e.$refs.defaultForm,Object.assign(t.parent,{authenticationProviderKey:t.parent.authenticationOptions.authenticationProviderKey})),e.setData(e.$refs.infoForm,t)}))},setData:function(t,e){this.$nextTick((function(){var a={};for(var n in t.form.formItems)a[n]=e[n];t.setData(a)}))}}},Ye=Ge,Xe=Object(S["a"])(Ye,Je,Ve,!1,null,null,null),Qe=Xe.exports,ta=function(){var t=this,e=t._self._c;return e("div",[e("a-descriptions",{attrs:{bordered:"",column:2}},[e("a-descriptions-item",{attrs:{label:"验证"}},[e("a-tag",{attrs:{color:"pink"}},[t._v(" "+t._s('v-auth="`'+t.params.parent.key+'`"')+" ")]),e("a-tag",{attrs:{color:"pink"}},[t._v(" "+t._s("$auth('"+t.params.parent.key+"')"))])],1),e("a-descriptions-item",{attrs:{label:"路由唯一标识(Key)"}},[t._v(" "+t._s(t.params.parent.key)+" ")]),e("a-descriptions-item",{attrs:{label:"下游服务路由模板"}},[t._v(" "+t._s(t.params.parent.downstreamPathTemplate)+" ")]),e("a-descriptions-item",{attrs:{label:"下游服务http schema"}},[t._v(" "+t._s(t.params.parent.downstreamScheme||"http")+" ")]),e("a-descriptions-item",{attrs:{label:"上游游服务路由模板"}},[t._v(" "+t._s(t.params.parent.upstreamPathTemplate)+" ")]),e("a-descriptions-item",{attrs:{label:"上游请求http方法"}},t._l(t.params.parent.upstreamHttpMethod,(function(a,n){return e("a-tag",{key:n,attrs:{color:"cyan"}},[t._v(" "+t._s(a)+" ")])})),1),e("a-descriptions-item",{attrs:{label:"下游服务的地址"}},t._l(t.params.parent.downstreamHostAndPorts,(function(a,n){return e("span",{key:n},[e("a-tag",{key:n,attrs:{color:"cyan"}},[t._v(" "+t._s(a.host)+":"+t._s(a.port)+" ")])],1)})),0),e("a-descriptions-item",{attrs:{label:"验证方式"}},[e("a-tag",{attrs:{color:"red"}},[t.params.parent.authenticationOptions.authenticationProviderKey?[t._v(" 网关验证 ("+t._s(t.params.parent.authenticationOptions.authenticationProviderKey)+") ")]:[t._v(" 节点验证 ")]],2)],1)],1),t.params.document?e("div",[e("mark-down-editor",{attrs:{readonly:!0},model:{value:t.params.document,callback:function(e){t.$set(t.params,"document",e)},expression:"params.document"}})],1):e("a-empty",[e("div",{attrs:{slot:"description"},slot:"description"},[e("div",[t._v("无描述信息")])])])],1)},ea=[],aa=a("2c2a"),na={namm:"detailes",components:{MarkDownEditor:aa["a"]},props:{params:{type:Object},event:{type:Function}},data:function(){return{}},watch:{},created:function(){},methods:{}},ia=na,oa=Object(S["a"])(ia,ta,ea,!1,null,null,null),ra=oa.exports,sa={name:"router",components:{Detail:ra,Editor:Qe,PageToggleTransition:s["a"]},props:{id:{type:String},data:{type:Object,default:function(){return{}}},onRefresh:{type:Function,default:function(){}}},computed:Object(o["a"])({},Object(r["e"])("setting",["animate"])),data:function(){return{groups:[],route:null,loading:!1,jsonData:{},dynamicData:{},currData:{},params:{},labelCol:{span:5},wrapperCol:{span:18,offset:1},searchForm:{},advanced:!1,openKeys:[],selectedKeys:[],componentKey:null}},created:function(){this.onLoad()},authorize:{onSync:"route.sync",OnAddRoute:"route.edit"},methods:{onLoad:function(){var t=this;Promise.all([Object(Ze["g"])()]).then((function(e){t.groups=e[0].data.data})).catch((function(t){}))},refresh:function(){this.onLoad(),this.selectedKeys.length&&this.onMenuItem({record:this.selectedKeys[0]})},onEdited:function(t){this.onLoad(),this.onMenuItem({record:t})},onMenuItem:function(t){var e=this;this.selectedKeys=[t.record],Object(Ze["f"])({id:t.record}).then((function(t){var a=t.data.data;e.$nextTick((function(){e.currData=a,e.componentKey=e.currData.id,e.onLink({route:"Detail",params:e.currData})}))})).catch((function(t){e.$message.error(t.response.data.message)}))},ondesktopmenu:function(t){var e=this,a=t.target.__vue__._props.eventKey;return this.$contextmenu({items:[{label:"复制接口",onClick:function(){e.copyjiekou(a)}}],event:t,customClass:"class-a",zIndex:6e3,minWidth:230}),!1},copys:function(t){this.componentKey=this.currData.id,this.onLink({route:"Editor",params:{type:"edit",data:t,openKeys:this.openKeys,selectedKeys:this.selectedKeys}})},copyjiekou:function(){this.componentKey=this.currData.id,this.onLink({route:"Editor",params:{type:"copy",data:this.currData,openKeys:this.openKeys,selectedKeys:this.selectedKeys}})},onAdd:function(){this.componentKey=void 0,this.onLink({route:"Editor",params:{data:{},openKeys:this.openKeys,selectedKeys:this.selectedKeys}})},onEdit:function(){this.componentKey=this.currData.id,this.onLink({route:"Editor",params:{type:"edit",data:this.currData,openKeys:this.openKeys,selectedKeys:this.selectedKeys}})},onSearch:function(){},onReset:function(){},onDelete:function(){var t=this;this.$nextTick((function(){t.$confirm({title:"删除确认",content:"确认要删除此路由吗!该操作不可逆,请谨慎操作!",okText:"确认",cancelText:"取消",onOk:function(){Object(Ze["a"])({ids:[t.currData.parent.id]}).then((function(e){t.$message.success(e.data.message),t.currData={},t.selectedKeys=[],t.route=null,t.refresh()})).catch((function(e){t.$message.success(e.response.data.message)}))},onCancel:function(){}})}))},onSync:function(){var t=this;this.loading=!0,Object(Ze["c"])().then((function(e){t.$message.success("同步".concat(e.data.message)),t.loading=!1})).catch((function(e){t.$message.success("同步失败"),t.loading=!1}))},onLink:function(t){var e=t.route,a=t.params;this.route=e,this.params=a},event:function(t){var e=t.method,a=t.params;this[e]&&"function"===typeof this[e]&&this[e](a)},setData:function(){var t={};for(var e in this.$refs.form.form.formItems)t[e]=this.currentRoute[e];this.$refs.form.setData(t)}}},ca=sa,la=Object(S["a"])(ca,We,He,!1,null,null,null),ua=la.exports,da=ua,pa=function(){var t=this,e=t._self._c;return e("div",[e("a-empty",[e("div",{attrs:{slot:"description"},slot:"description"},[e("div",[t._v("模块开发中ing...")])])])],1)},ha=[],fa={},ma=Object(S["a"])(fa,pa,ha,!1,null,null,null),ga=ma.exports,va=ga,ba=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1}},[e("a-form-model",{attrs:{layout:t.layout,model:t.form,rules:t.rules}},[e("a-form-model-item",[e("a-button",{attrs:{type:"primary"},on:{click:t.onSend}},[t._v(" 发送消息 ")])],1),e("a-col",{attrs:{span:11}},[e("a-form-model-item",{attrs:{label:"是否发送通知"}},[e("a-switch",{model:{value:t.form.notice,callback:function(e){t.$set(t.form,"notice",e)},expression:"form.notice"}})],1),e("a-form-model-item",{attrs:{label:"消息类型"}},[e("a-select",{attrs:{allowClear:"",placeholder:"请选择消息类型"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.dictmap,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.id}},[a.color?e("a-tag",{attrs:{color:a.color}},[t._v(" "+t._s(a.title)+" ")]):[t._v(t._s(a.title))]],2)})),1)],1),e("a-form-model-item",{attrs:{label:"消息标题",prop:"title"}},[e("a-input",{attrs:{allowClear:"",placeholder:"请输入消息标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),e("a-form-model-item",{attrs:{label:"消息详情",prop:"details"}},[e("a-textarea",{attrs:{"auto-size":{minRows:3,maxRows:6},allowClear:"",placeholder:"请输入消息详情"},model:{value:t.form.details,callback:function(e){t.$set(t.form,"details",e)},expression:"form.details"}})],1)],1),e("a-col",{attrs:{span:11,offset:2}},[e("a-form-model-item",{attrs:{label:"目标策略",prop:"policy"}},[e("a-select",{attrs:{allowClear:"",placeholder:"请选择策略"},model:{value:t.form.policy,callback:function(e){t.$set(t.form,"policy",e)},expression:"form.policy"}},t._l(t.policys,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),1)],1),e("a-form-model-item",{attrs:{label:"目标组织",prop:"policy"}},[e("a-tree-select",{attrs:{"tree-data":t.organizations,allowClear:"",multiple:"",showSearch:"","tree-checkable":"",treeCheckStrictly:!0,placeholder:"请选择组织",replaceFields:{value:"id",key:"id"}},on:{select:t.onOrganizationSelect},model:{value:t.form.organization,callback:function(e){t.$set(t.form,"organization",e)},expression:"form.organization"}})],1),e("a-form-model-item",{attrs:{label:"目标用户",prop:"user"}},[e("a-col",{attrs:{span:8}},[e("a-tree-select",{attrs:{"tree-data":t.organizations,allowClear:"",showSearch:"",placeholder:"请选择组织",replaceFields:{value:"id",key:"id"}},on:{select:t.onUserOrganizationSelect}})],1),e("a-col",{attrs:{span:16}},[e("a-select",{attrs:{allowClear:"",mode:"multiple",placeholder:"请选择用户",showSearch:!0},model:{value:t.form.users,callback:function(e){t.$set(t.form,"users",e)},expression:"form.users"}},t._l(t.currUsers,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.id}},[t._v(" "+t._s(a.realname)+" ")])})),1)],1)],1),e("a-form-model-item",{attrs:{label:"相关应用",prop:"application"}},[e("a-select",{attrs:{allowClear:"",placeholder:"请选择应用"},on:{change:t.onApplicationSelect},model:{value:t.form.application.id,callback:function(e){t.$set(t.form.application,"id",e)},expression:"form.application.id"}},t._l(t.applications,(function(a,n){return e("a-select-option",{key:n,attrs:{value:a.id}},[t._v(" "+t._s(a.title)+" ")])})),1)],1),e("a-form-model-item",{attrs:{label:"应用数据",prop:"application"}},[e("vue-json-editor",{attrs:{showBtns:!1,mode:t.jsonMode,lang:"zh"},on:{"json-change":t.onJsonChange,"json-save":t.onJsonSave},model:{value:t.form.application.data,callback:function(e){t.$set(t.form.application,"data",e)},expression:"form.application.data"}})],1)],1)],1)],1)},ya=[],_a=(a("c740"),a("7db0"),a("09f9")),wa=a("45a3"),ka={components:{vueJsonEditor:wa["a"]},props:{},data:function(){return{layout:"vertical",jsonMode:"tree",form:{notice:!0,organization:[],application:{data:{}}},organizations:[],policys:[],applications:[],currUsers:[],dictmap:[],rules:{title:[{required:!0,message:"请输入消息标题",trigger:"blur"}],details:[{required:!0,message:"请输入消息详情",trigger:"blur"}]}}},computed:{},created:function(){this.onLoad()},methods:{onLoad:function(){var t=this;Promise.all([Object(L["e"])(),Object(E["e"])(),Object(nt["d"])(),Object(kt["d"])({par_name:"MessageTags"})]).then((function(e){t.organizations=e[0].data.data,t.policys=e[1].data.data,t.applications=e[2].data.data,t.dictmap=e[3].data.data})).catch((function(t){}))},onSend:function(){var t=this,e=this.form.organization.map((function(t){return t.value})),a=Object.assign({},this.form);a.organization=e,Object(_a["a"])(a).then((function(e){t.$message.success(e.data.message)})).catch((function(e){t.$message.error(e.response.data.message)}))},onUserOrganizationSelect:function(t){var e=this;Object(c["s"])({organization:[t],include:["id","realname"]}).then((function(t){e.currUsers=t.data.data})).catch((function(t){}))},onOrganizationSelect:function(t){var e=this;Object(L["e"])({id:t.value}).then((function(t){e.$nextTick((function(){t.data.data.forEach((function(t){var a=e.form.organization.findIndex((function(e){return e.value==t.id}));-1===a&&e.form.organization.push({value:t.id,label:t.title})}))}))})).catch((function(t){}))},onApplicationSelect:function(t){if(t){var e=this.applications.find((function(e){return e.id==t}));this.form.application.data=e.data}else this.form.application.data={}},onJsonChange:function(){},onJsonSave:function(){}}},Oa=ka,xa=(a("1c3a"),Object(S["a"])(Oa,ba,ya,!1,null,null,null)),ja=xa.exports,Sa=ja,Ca=function(){var t=this,e=this,a=e._self._c;return a("div",{staticStyle:{padding:"0 30px"}},[a("a-form-model",{ref:"searchForm",attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,model:e.searchForm}},[a("a-row",[a("a-col",{attrs:{lg:7,md:12,sm:24}},[a("a-form-model-item",{attrs:{"label-col":{span:3},label:"关键字"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入",allowClear:""},model:{value:e.searchForm.keyword,callback:function(t){e.$set(e.searchForm,"keyword",t)},expression:"searchForm.keyword"}})],1)],1),a("a-col",{attrs:{lg:8,md:12,sm:24}},[a("div",{staticStyle:{"padding-left":"50px","margin-top":"3px"}},[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:e.onSearch}},[e._v("查询")]),a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.onReset}},[e._v("重置")])],1)])],1)],1),a("div",{staticStyle:{width:"100%",padding:"5px 0px"}},[a("a-space",[a("a-button",{on:{click:e.onAdd_client}},[a("a-icon",{attrs:{type:"plus"}}),e._v("客户端新增")],1),a("a-button",{attrs:{disabled:!e.selectedRows.length},on:{click:e.onDelete_client}},[a("a-icon",{attrs:{type:"delete"}}),e._v("客户端删除")],1)],1)],1),a("standard-table",{directives:[{name:"auth",rawName:"v-auth",value:"user.paginate",expression:"`user.paginate`"}],attrs:{loading:e.loading,columns:e.columns,dataSource:e.data.items,selectedRows:e.selectedRows,rowKey:"id",pagination:!1,bordered:""},on:{"update:selectedRows":function(t){e.selectedRows=t},"update:selected-rows":function(t){e.selectedRows=t},clear:e.onClear,selectedRowChange:e.onSelectChange},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.record;return a("span",{},[a("a-button",{directives:[{name:"auth",rawName:"v-auth",value:"client.edit",expression:"`client.edit`"}],on:{click:function(t){return e.onEdit_client(n)}}},[a("a-icon",{staticStyle:{"vertical-align":"baseline"},attrs:{type:"edit"}}),e._v("编辑 ")],1),a("a-divider",{staticStyle:{height:"25px"},attrs:{type:"vertical"}}),a("a-dropdown",[a("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[a("a-menu-item",{key:"oneditorganization",on:{click:function(t){return e.onEditOrganization(n)}}},[a("a-icon",{attrs:{type:"setting"}}),e._v(" 设置组织 ")],1),a("a-menu-item",{key:"1",on:{click:function(t){return e.onEditRoutes(n)}}},[a("a-icon",{attrs:{type:"bulb"}}),e._v(" 设置路由 ")],1),a("a-menu-item",{key:"2",on:{click:function(t){return e.onEditAppli(n)}}},[a("a-icon",{attrs:{type:"appstore"}}),e._v(" 设置应用 ")],1)],1),a("a-button",[e._v("设置"),a("a-icon",{attrs:{type:"down"}})],1)],1)],1)}}])}),a("a-pagination",{staticStyle:{"text-align":"right",padding:"15px 0"},attrs:{size:"small",current:e.pagination.page,defaultPageSize:e.pagination.per_page,pageSizeOptions:["10","20","30","40"],total:e.data.total,"show-size-changer":"","show-quick-jumper":"","show-total":function(t){return"共 ".concat(t," 条")}},on:{change:e.onChangePage,showSizeChange:e.onChangePage}}),a("a-modal",{attrs:{title:"设置组织",visible:e.visibleEditOrg,width:600,"confirm-loading":e.loading,maskClosable:!1},on:{ok:e.onEditOrg,cancel:function(){t.organization=[],e.visibleEditOrg=!1}}},[a("a-form-model-item",{attrs:{label:"所在组织","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:e.organizations,placeholder:"请选择所在组织",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:e.organization,callback:function(t){e.organization=t},expression:"organization"}})],1)],1),a("a-modal",{staticClass:"routes_root",attrs:{title:"设置路由",visible:e.visibleEditRou,width:1350,maskClosable:!1},on:{ok:e.onEditRou,cancel:function(){t.organization=[],e.visibleEditRou=!1}}},[a("div",{staticClass:"route_box",staticStyle:{width:"100%",padding:"0",margin:"0"}},[a("a-card-meta",[a("div",{staticStyle:{padding:"2px 1%"},attrs:{slot:"title"},slot:"title"},[a("span",[e._v("设置路由")]),a("span",[a("a-checkbox",{staticStyle:{float:"right"},attrs:{indeterminate:e.indeterminate.route,checked:e.checks_route},on:{change:e.onRouteAllChange}},[e._v(" 全选 ")])],1)]),a("div",{attrs:{slot:"description"},slot:"description"},[a("a-checkbox-group",{attrs:{value:e.routees},on:{change:e.onRouteChange}},[e._l(e.route_arr,(function(t){return[a("a-card-grid",{key:t._id,staticStyle:{width:"99%","margin-left":"0.5%"},attrs:{title:t._id,bordered:!1}},[a("div",{staticStyle:{"font-size":"14px","font-weight":"600","margin-bottom":"12px"}},[e._v(e._s(t.group))]),e._l(t.record,(function(t){return[a("a-checkbox",{key:t.parent,staticClass:"checkbox-item",attrs:{value:t.parent}},[e._v(" "+e._s(t.title)+" ")])]}))],2)]}))],2)],1)])],1)]),a("a-modal",{attrs:{title:"设置应用",visible:e.visibleEditApp,width:600,maskClosable:!1},on:{ok:e.onEditApp,cancel:function(){t.organization=[],e.visibleEditApp=!1}}},[a("a-form-model-item",{attrs:{label:"所在应用","label-col":{span:3},"wrapper-col":{span:21}}},[a("a-tree-select",{staticClass:"tree_sty",attrs:{"show-search":"",multiple:"","dropdown-style":{maxHeight:"400px",overflow:"auto"},treeData:e.appli_arr,placeholder:"请选择应用",replaceFields:{key:"id",value:"id"},filterTreeNode:function(t,e){var a=e.componentOptions.propsData.dataRef;return-1!==a.title.indexOf(t)||-1!==a.name.indexOf(t)}},model:{value:e.applications,callback:function(t){e.applications=t},expression:"applications"}})],1)],1),a("a-modal",{attrs:{title:"客户端新增",width:"40%",visible:e.visible_client,maskClosable:!1},on:{ok:e.onSubmit_client,cancel:function(){e.visible_client=!1,t.$refs.jsonData_client.reset()}}},[a("k-form-build",{ref:"jsonData_client",attrs:{value:e.jsonData_client}})],1)],1)},Ra=[];function Da(t){return za.apply(this,arguments)}function za(){return za=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/client/add",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),za.apply(this,arguments)}function $a(t){return Ta.apply(this,arguments)}function Ta(){return Ta=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/client/edit",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),Ta.apply(this,arguments)}function Fa(t){return Pa.apply(this,arguments)}function Pa(){return Pa=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/client/paginate",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),Pa.apply(this,arguments)}function Ea(t){return La.apply(this,arguments)}function La(){return La=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/client/delete",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),La.apply(this,arguments)}function Ia(t){return Aa.apply(this,arguments)}function Aa(){return Aa=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/routeinfo/group",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),Aa.apply(this,arguments)}function Ka(t){return Ma.apply(this,arguments)}function Ma(){return Ma=Object(y["a"])(Object(b["a"])().mark((function t(e){return Object(b["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(w["e"])("/api/application/list",e||{},w["a"].POST));case 1:case"end":return t.stop()}}),t)}))),Ma.apply(this,arguments)}var Na={components:{StandardTable:F["a"]},props:{params:{type:Object},event:{type:Function}},data:function(){return{data:{},columns:[{title:"客户端名称",width:160,dataIndex:"name",scopedSlots:{customRender:"name"}},{title:"客户端标识",width:300,dataIndex:"appid",scopedSlots:{customRender:"appkey"}},{title:"客户端密钥",width:300,dataIndex:"secretkey",scopedSlots:{customRender:"secret"}},{title:"过期时间",width:160,dataIndex:"expire",scopedSlots:{customRender:"lasttime"}},{title:"操作",width:240,scopedSlots:{customRender:"action"},align:"center"}],visible:!1,visibleEditOrg:!1,visiblePullOrg:!1,loading:!1,jsonData:{},selectedRows:[],searchForm:{},labelCol:{span:5},wrapperCol:{span:18,offset:1},advanced:!1,edittitle:"添加用户",editId:"",organizations:[],pullOrganization:[],methods_act:null,policylist:[],organization:[],policylists:[],visible_client:!1,jsonData_client:{},organiza_name:"",organiza_expire:"",organiza_id:"",visibleEditRou:!1,route_arr:[],routees:[],routes:[],indeterminate:{route:!0},checks_route:!1,visibleEditApp:!1,applications:[],appli_arr:[]}},created:function(){this.onLoad()},authorize:{init:"client.paginate",deleteRecord:"client.delete",onEdit:"client.edit"},computed:{pagination:{get:function(){return{page:this.data.page||1,per_page:this.data.per_page||10}},set:function(t){this.data.page=t.page,this.data.per_page=t.per_page}},rowOrganizations:function(){var t=[];return this.selectedRows.forEach((function(e){t=[].concat(Object(T["a"])(t),Object(T["a"])(e.organizations||[]))})),t},selectedRowIds:function(){return this.selectedRows.map((function(t){return t.id}))},userinfo:function(){return this.$store.getters["account/user"]},routeids:function(){var t=this.route_arr.map((function(t){var e=t.record.map((function(t){return t.parent}));return e})),e=[];return t.forEach((function(t){e=[].concat(Object(T["a"])(e),Object(T["a"])(t))})),e}},watch:{routees:{handler:function(t){var e=this.routees.length&&this.routees.length!==this.routeids.length,a=this.routees.length&&this.routees.length===this.routeids.length;this.checks_route=!!a,e=!!e,this.indeterminate.route=!!t.length&&e},deep:!0}},methods:{onLoad:function(){var t=this;this.selectedRows=[],this.paginate(),Promise.all([Object(E["e"])(),Object(L["e"])(),Object(P["b"])({name:"onadd_client"}),Ia({authkeys:["ClientKey"]}),Ka()]).then((function(e){t.policylist=e[0].data.data,t.organizations=e[1].data.data,t.jsonData_client=e[2].data.data.form,t.route_arr=e[3].data.data,t.appli_arr=e[4].data.data})).catch((function(t){}))},paginate:function(){var t=this;Fa(Object.assign(this.pagination,this.searchForm,{})).then((function(e){t.loading=!1,t.data=e.data.data})).catch((function(t){}))},onSelectChange:function(){},onClear:function(){this.$message.info("您清空了勾选的所有行")},onChangePage:function(t,e){this.loading=!0,this.pagination.page=t,this.pagination.per_page=e,this.paginate()},onSearch:function(){this.pagination={per_page:10,page:1},this.loading=!0,this.paginate()},onReset:function(){this.loading=!0,this.searchForm={},this.pagination={per_page:10,page:1},this.paginate()},onAdd_client:function(){var t=this;this.visible_client=!0,this.$nextTick((function(){t.mothed_client=Da,t.id=void 0}))},onSubmit_client:function(){var t=this;this.$refs.jsonData_client.getData().then((function(e){t.mothed_client(Object.assign(e,{id:t.id})).then((function(e){t.visible_client=!1,t.$refs.jsonData_client.reset(),t.paginate()})).catch((function(e){t.visible_client=!1,t.$refs.jsonData_client.reset(),t.paginate()}))}))},onEdit_client:function(t){var e=this;this.visible_client=!0,this.id=t.id,this.$nextTick((function(){e.mothed_client=$a,e.$refs.jsonData_client.setData({name:t.name,expire:t.expire})}))},onDelete_client:function(t){var e=[];e=t.id?[t.id]:this.selectedRowIds;var a=this;this.$confirm({title:"确定要删除此客户端吗?",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){a.loading=!0,a.onLoad(),Ea({ids:e}).then((function(){a.onLoad()})).catch((function(t){}))},onCancel:function(){}})},onEditOrganization:function(t){this.organiza_id=t.id,this.organiza_name=t.name,this.organiza_expire=t.expire,this.organization=t.organizations,this.routees=t.routes,this.applications=t.applications,this.visibleEditOrg=!0,this.loading=!1},onEditOrg:function(){var t=this;this.loading=!0,$a({id:this.organiza_id,name:this.organiza_name,expire:this.organiza_expire,organizations:this.organization,routes:this.routees,applications:this.applications}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visibleEditOrg=!1,t.loading=!1})).catch((function(e){t.$message.error(e),t.loading=!1}))},onEditRoutes:function(t){this.visibleEditRou=!0,this.organiza_id=t.id,this.organiza_name=t.name,this.organiza_expire=t.expire,this.organization=t.organizations,this.routees=t.routes,this.applications=t.applications},onEditRou:function(){var t=this;this.loading=!0,$a({id:this.organiza_id,name:this.organiza_name,expire:this.organiza_expire,organizations:this.organization,routes:this.routees,applications:this.applications}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visibleEditRou=!1,t.loading=!1})).catch((function(e){t.$message.error(e),t.loading=!1}))},onEditAppli:function(t){this.visibleEditApp=!0,this.loading=!1,this.organiza_id=t.id,this.organiza_name=t.name,this.organiza_expire=t.expire,this.organization=t.organizations,this.routees=t.routes,this.applications=t.applications},onEditApp:function(){var t=this;this.loading=!0,$a({id:this.organiza_id,name:this.organiza_name,expire:this.organiza_expire,organizations:this.organization,routes:this.routees,applications:this.applications}).then((function(e){t.$message.success(e.data.message),t.onLoad(),t.visibleEditApp=!1,t.loading=!1})).catch((function(e){t.$message.error(e),t.loading=!1}))},onRouteChange:function(t){this.routees=t},onRouteAllChange:function(t){var e=t.target.checked;this.routees=e?this.routeids:[]}}},Ba=Na,qa=(a("b08b"),a("ab9d"),Object(S["a"])(Ba,Ca,Ra,!1,null,"45c3f938",null)),Ua=qa.exports,Wa=Ua,Ha={components:{PageToggleTransition:s["a"],SystemStatus:D,Admin:q,GuestList:G,GuestPolicy:ct,ApplicationList:bt,DictMapResource:Ft,FormResource:ke,BackgroundResource:$e,IconResource:Ae,GlobalSetting:Ue,StaticRoute:da,AggregateRoute:va,Messages:Sa,ClientPagination:Wa},data:function(){return{loading:!1,route:null,params:{},currSelected:"SystemStatus",defaultOpenKeys:[],currData:{},menu:[{key:"SystemStatus",title:"系统状态",icon:"stock"},{key:"UserManage",title:"用户管理",icon:"user",children:[{key:"Admin",title:"管理员",icon:"usergroup-add"}],group:[{key:"GuestManage",title:"访客管理",children:[{key:"GuestList",title:"访客列表",icon:"team"},{key:"GuestPolicy",title:"访客权限",icon:"team"}]},{key:"ClientManage",title:"客户端管理",children:[{key:"ClientPagination",title:"客户端列表",icon:"profile"}]}]},{key:"ApplicationManage",title:"应用管理",icon:"profile",children:[{key:"ApplicationList",title:"应用列表",icon:"profile"}]},{key:"ResourceManage",title:"资源管理",icon:"profile",group:[{key:"StaticResource",title:"静态资源",children:[{key:"BackgroundResource",title:"背景列表",icon:"unordered-list"},{key:"IconResource",title:"图标列表",icon:"unordered-list"}]},{key:"DynamicResource",title:"动态资源",icon:"unordered-list",children:[{key:"FormResource",title:"自定义表单",icon:"unordered-list"},{key:"DictMapResource",title:"自定义字典",icon:"unordered-list"}]}]},{key:"GatewayManage",title:"网关管理",icon:"setting",children:[{key:"GlobalSetting",title:"全局配置",icon:"setting"}],group:[{key:"RouteManage",title:"路由管理",icon:"unordered-list",children:[{key:"StaticRoute",title:"静态路由",icon:"unordered-list"},{key:"AggregateRoute",title:"聚合路由",icon:"unordered-list"}]}]},{key:"Message",title:"消息管理",icon:"profile",children:[{key:"Messages",title:"发送消息",icon:"profile"}]}],collapsed:!1,crumbs:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(r["e"])("setting",["theme","animate"])),{},{key:function(){return Math.random()},userinfo:function(){return this.$store.getters["account/user"]}}),created:function(){this.onReload()},methods:{onReload:function(){this.isAdmin(),this.onLink({route:this.currSelected})},onItemClick:function(t){this.route=t.key},onBack:function(){},onOpen:function(t){this.$emit("open",t||{})},onRefresh:function(){this.$refs.component&&"function"===typeof this.$refs.component.onReset&&this.$refs.component.onReset()},onLink:function(t){var e=t.route,a=t.params,n=t.paginate,i=t.searchform;this.params=a||{},this.route=e,this.crumbs.push({route:e,params:a||{},paginate:n||{page:1,per_page:10},searchform:i||{}})},event:function(t){var e=t.method,a=t.params;this[e]&&"function"===typeof this[e]&&this[e](a)},isAdmin:function(){var t=this;this.$nextTick((function(){"admin"!==t.userinfo.role&&t.$error({title:"您不是管理员",content:"无法访问此页面,因为您不是管理员",keyboard:!1,onOk:function(){Object(c["b"])(),t.$router.push({path:"/403"})}})}))},onHome:function(){this.$router.push({path:"/desktop"})},onLogout:function(){Object(c["b"])(),this.$router.push({path:"/login"})}}},Ja=Ha,Va=(a("ced0"),Object(S["a"])(Ja,n,i,!1,null,null,null)),Za=Va.exports;e["default"]=Za},d8db:function(t,e,a){"use strict";a("3ed3")},da2c:function(t,e,a){"use strict";a("1fc2")},db66:function(t,e,a){},de25:function(t,e,a){},e053:function(t,e,a){"use strict";a("baf6")},e32f:function(t,e,a){"use strict";a("f87b")},e637:function(t,e,a){"use strict";a("f05d")},e8f9:function(t,e,a){"use strict";a("c783")},ed4b:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return r}));var n=a("7424"),i=a("b775");function o(){return Object(i["e"])(n["BACKGROUND_LIST"],{},i["a"].POST)}function r(t){return Object(i["e"])("".concat(n["BASE_URL"],"/background/delete"),t||{},i["a"].POST)}},edd9:function(t,e,a){"use strict";var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bar"},[e("h4",[t._v(t._s(t.title))]),e("div",{staticClass:"chart"},[e("v-chart",{attrs:{"force-fit":!0,height:"312",data:t.value,padding:[24,0,0,0]}},[e("v-tooltip"),e("v-axis"),e("v-bar",{attrs:{position:"record*count"}})],1)],1)])},i=[],o={name:"Bar",props:{title:{Type:String},value:{Type:Array,default:function(){return[]}}},data:function(){return{}}},r=o,s=(a("d8db"),a("2877")),c=Object(s["a"])(r,n,i,!1,null,"624c8ec9",null);e["a"]=c.exports},edea:function(t,e,a){},ee86:function(t,e,a){},f05d:function(t,e,a){},f171:function(t,e,a){"use strict";a("db66")},f440:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"b",(function(){return p})),a.d(e,"a",(function(){return f})),a.d(e,"c",(function(){return g})),a.d(e,"g",(function(){return b}));var n=a("c7eb"),i=a("1da1"),o=a("b775");function r(t){return s.apply(this,arguments)}function s(){return s=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/routeinfo/add",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/routeinfo/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){return d.apply(this,arguments)}function d(){return d=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/routeinfo/get",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/route/edit",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/route/delete",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function g(t){return v.apply(this,arguments)}function v(){return v=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/route/sync",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function b(t){return y.apply(this,arguments)}function y(){return y=Object(i["a"])(Object(n["a"])().mark((function t(e){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["e"])("/api/routeinfo/group",e||{},o["a"].POST));case 1:case"end":return t.stop()}}),t)}))),y.apply(this,arguments)}},f507:function(t,e,a){"use strict";a("de25")},f87b:function(t,e,a){},f8ff:function(t,e,a){"use strict";a("583e")},fa2b:function(t,e,a){},fa53:function(t,e,a){"use strict";a("b0c0");var n=function(){var t=this,e=t._self._c;return e("a-layout",{staticClass:"route-layout"},[t.header?e("a-layout-header",[t._t("header"),e("div",{staticStyle:{float:"right"}},[t._t("header-right")],2)],2):t._e(),e("a-layout-content",{staticClass:"conter"},[e("a-layout",[e("a-layout-sider",[t._t("search",(function(){return[e("a-input-search",{attrs:{allowClear:""},on:{search:t.clickSearch}})]})),e("a-tree",{attrs:{"tree-data":t.treeData,selectedKeys:t.selectedKeysSync,draggable:!0,"block-node":!0,"show-icon":!0,"default-expand-all":!0,expandedKeys:t.expandedKeysSync,replaceFields:{key:"id"}},on:{"update:selectedKeys":function(e){t.selectedKeysSync=e},"update:selected-keys":function(e){t.selectedKeysSync=e},"update:expandedKeys":function(e){t.expandedKeysSync=e},"update:expanded-keys":function(e){t.expandedKeysSync=e},select:t.clickTreeSelect},scopedSlots:t._u([{key:"title",fn:function(a){return e("span",{},[t._v(t._s(a))])}}])},[e("a-icon",{staticStyle:{"font-size":"20px"},attrs:{slot:"icon",type:"tags",theme:"twoTone"},slot:"icon"})],1)],2),e("a-layout-content",[e("a-page-header",{on:{back:function(e){return t.$emit("on-back")}}},[e("template",{slot:"title"},[t._t("title")],2),e("template",{slot:"subTitle"},[t._t("subTitle")],2),e("template",{slot:"tags"},[t._t("tags")],2),e("template",{slot:"extra"},[t._t("extra")],2),e("a-row",{attrs:{type:"flex"}},[t._t("flex")],2)],2),e("page-toggle-transition",{attrs:{disabled:t.animate.disabled,animate:t.animate.name,direction:t.animate.direction}},[t._t("content")],2)],1)],1)],1)],1)},i=[],o=a("5530"),r=a("2f62"),s=a("7664"),c={name:"page-views",props:{id:{type:String},selectedKeys:{type:Array,default:function(){return[]}},expandedKeys:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}},header:{type:Boolean,default:function(){return!0}},onBack:{type:Function,default:function(){}},onRefresh:{type:Function,default:function(){}},onSearch:{type:Function,default:function(){}},treeData:{type:Array,default:function(){return[void 0]}},onTreeSelect:{type:Function,default:function(){}},loading:{type:Boolean,default:function(){return!1}}},data:function(){return{expandedKeysSync:[],selectedKeysSync:[]}},watch:{selectedKeys:{handler:function(t){this.selectedKeysSync=t},deep:!0},expandedKeys:{handler:function(t){this.expandedKeysSync=t},deep:!0},expandedKeysSync:{handler:function(t){this.$emit("update:expandedKeys",t)},deep:!0},selectedKeysSync:{handler:function(t){this.$emit("update:selectedKeys",t)},deep:!0}},components:{PageToggleTransition:s["a"]},created:function(){},computed:Object(o["a"])({},Object(r["e"])("setting",["theme","animate"])),methods:{init:function(){},clickTreeSelect:function(t,e){this.$emit("on-tree-select",t,e)},clickSearch:function(t,e){this.$emit("on-search",t,e)}}},l=c,u=(a("2a83"),a("2877")),d=Object(u["a"])(l,n,i,!1,null,"143fb5ac",null);e["a"]=d.exports},fb3c:function(t,e,a){},fc85d:function(t,e,a){},fc8c:function(t,e,a){}}]);